// we assume partial application of data constructors cannot be scrutinees to matches!
// therefore we rely on the following type error getting thrown:
// TypeError (ErrorMsg "Pattern: wrong number of argument - DConId RGB")

type Color
  RGB Int Int
  Red
  Black

// print single digit number; account for ascii offset
putd cout_ c =
  after 1, cout_ <- (c + 48)
  wait cout_

main cin cout = 
  let n = RGB 4
  match n
    RGB 6 = 
      putd cout 3
    RGB _ = 
      putd cout 5
    _ = 
      putd cout 6
