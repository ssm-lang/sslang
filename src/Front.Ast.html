<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Sslang abstract syntax tree.</span><span>
</span><span id="line-2"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Front.Ast</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Common.Identifiers.html"><span class="hs-identifier">Common.Identifiers</span></a></span><span>             </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifiable"><span class="hs-identifier">Identifiable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-5"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier">Identifier</span></a></span><span>
</span><span id="line-6"></span><span>                                                </span><span class="hs-special">)</span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Common.Pretty.html"><span class="hs-identifier">Common.Pretty</span></a></span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span>                      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">intersperse</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>                     </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">mapMaybe</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-comment">-- | A complete program: a list of top-level definitions.</span><span>
</span><span id="line-13"></span><span class="hs-keyword">newtype</span><span> </span><span id="Program"><span class="annot"><a href="Front.Ast.html#Program"><span class="hs-identifier hs-var">Program</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Program"><span class="annot"><a href="Front.Ast.html#Program"><span class="hs-identifier hs-var">Program</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#TopDef"><span class="hs-identifier hs-type">TopDef</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501473"><span id="local-6989586621679501475"><span class="annot"><span class="annottext">Program -&gt; Program -&gt; Bool
(Program -&gt; Program -&gt; Bool)
-&gt; (Program -&gt; Program -&gt; Bool) -&gt; Eq Program
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Program -&gt; Program -&gt; Bool
$c/= :: Program -&gt; Program -&gt; Bool
== :: Program -&gt; Program -&gt; Bool
$c== :: Program -&gt; Program -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501466"><span id="local-6989586621679501468"><span id="local-6989586621679501470"><span class="annot"><span class="annottext">Int -&gt; Program -&gt; ShowS
[Program] -&gt; ShowS
Program -&gt; String
(Int -&gt; Program -&gt; ShowS)
-&gt; (Program -&gt; String) -&gt; ([Program] -&gt; ShowS) -&gt; Show Program
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Program] -&gt; ShowS
$cshowList :: [Program] -&gt; ShowS
show :: Program -&gt; String
$cshow :: Program -&gt; String
showsPrec :: Int -&gt; Program -&gt; ShowS
$cshowsPrec :: Int -&gt; Program -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-comment">-- | A top-level definition.</span><span>
</span><span id="line-17"></span><span class="hs-keyword">data</span><span> </span><span id="TopDef"><span class="annot"><a href="Front.Ast.html#TopDef"><span class="hs-identifier hs-var">TopDef</span></a></span></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TopDef"><span class="annot"><a href="Front.Ast.html#TopDef"><span class="hs-identifier hs-var">TopDef</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Definition"><span class="hs-identifier hs-type">Definition</span></a></span><span>     </span><span class="hs-comment">-- ^ Bind a (data) value to a variable</span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TopType"><span class="annot"><a href="Front.Ast.html#TopType"><span class="hs-identifier hs-var">TopType</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a></span><span>       </span><span class="hs-comment">-- ^ Define an algebraic data type</span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TopCDefs"><span class="annot"><a href="Front.Ast.html#TopCDefs"><span class="hs-identifier hs-var">TopCDefs</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>       </span><span class="hs-comment">-- ^ Inlined block of C definitions</span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TopExtern"><span class="annot"><a href="Front.Ast.html#TopExtern"><span class="hs-identifier hs-var">TopExtern</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#ExternDecl"><span class="hs-identifier hs-type">ExternDecl</span></a></span><span>  </span><span class="hs-comment">-- ^ Declare external symbol for FFI</span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501457"><span id="local-6989586621679501459"><span class="annot"><span class="annottext">TopDef -&gt; TopDef -&gt; Bool
(TopDef -&gt; TopDef -&gt; Bool)
-&gt; (TopDef -&gt; TopDef -&gt; Bool) -&gt; Eq TopDef
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TopDef -&gt; TopDef -&gt; Bool
$c/= :: TopDef -&gt; TopDef -&gt; Bool
== :: TopDef -&gt; TopDef -&gt; Bool
$c== :: TopDef -&gt; TopDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501451"><span id="local-6989586621679501453"><span id="local-6989586621679501455"><span class="annot"><span class="annottext">Int -&gt; TopDef -&gt; ShowS
[TopDef] -&gt; ShowS
TopDef -&gt; String
(Int -&gt; TopDef -&gt; ShowS)
-&gt; (TopDef -&gt; String) -&gt; ([TopDef] -&gt; ShowS) -&gt; Show TopDef
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TopDef] -&gt; ShowS
$cshowList :: [TopDef] -&gt; ShowS
show :: TopDef -&gt; String
$cshow :: TopDef -&gt; String
showsPrec :: Int -&gt; TopDef -&gt; ShowS
$cshowsPrec :: Int -&gt; TopDef -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-comment">-- | Associate a type with a symbol</span><span>
</span><span id="line-25"></span><span class="hs-keyword">data</span><span> </span><span id="ExternDecl"><span class="annot"><a href="Front.Ast.html#ExternDecl"><span class="hs-identifier hs-var">ExternDecl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ExternDecl"><span class="annot"><a href="Front.Ast.html#ExternDecl"><span class="hs-identifier hs-var">ExternDecl</span></a></span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier hs-type">Identifier</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-type">Typ</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501446"><span id="local-6989586621679501448"><span class="annot"><span class="annottext">ExternDecl -&gt; ExternDecl -&gt; Bool
(ExternDecl -&gt; ExternDecl -&gt; Bool)
-&gt; (ExternDecl -&gt; ExternDecl -&gt; Bool) -&gt; Eq ExternDecl
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ExternDecl -&gt; ExternDecl -&gt; Bool
$c/= :: ExternDecl -&gt; ExternDecl -&gt; Bool
== :: ExternDecl -&gt; ExternDecl -&gt; Bool
$c== :: ExternDecl -&gt; ExternDecl -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501440"><span id="local-6989586621679501442"><span id="local-6989586621679501444"><span class="annot"><span class="annottext">Int -&gt; ExternDecl -&gt; ShowS
[ExternDecl] -&gt; ShowS
ExternDecl -&gt; String
(Int -&gt; ExternDecl -&gt; ShowS)
-&gt; (ExternDecl -&gt; String)
-&gt; ([ExternDecl] -&gt; ShowS)
-&gt; Show ExternDecl
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ExternDecl] -&gt; ShowS
$cshowList :: [ExternDecl] -&gt; ShowS
show :: ExternDecl -&gt; String
$cshow :: ExternDecl -&gt; String
showsPrec :: Int -&gt; ExternDecl -&gt; ShowS
$cshowsPrec :: Int -&gt; ExternDecl -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-comment">-- | An algebraic data type definition.</span><span>
</span><span id="line-29"></span><span class="hs-keyword">data</span><span> </span><span id="TypeDef"><span class="annot"><a href="Front.Ast.html#TypeDef"><span class="hs-identifier hs-var">TypeDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TypeDef"><span class="annot"><a href="Front.Ast.html#TypeDef"><span class="hs-identifier hs-var">TypeDef</span></a></span></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="typeName"><span class="annot"><span class="annottext">TypeDef -&gt; Identifier
</span><a href="Front.Ast.html#typeName"><span class="hs-identifier hs-var hs-var">typeName</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier hs-type">Identifier</span></a></span><span>      </span><span class="hs-comment">-- ^ The name of the type, e.g., @Option@</span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="typeParams"><span class="annot"><span class="annottext">TypeDef -&gt; [Identifier]
</span><a href="Front.Ast.html#typeParams"><span class="hs-identifier hs-var hs-var">typeParams</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier hs-type">Identifier</span></a></span><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- ^ List of type parameters, e.g., @a@</span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="typeVariants"><span class="annot"><span class="annottext">TypeDef -&gt; [TypeVariant]
</span><a href="Front.Ast.html#typeVariants"><span class="hs-identifier hs-var hs-var">typeVariants</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#TypeVariant"><span class="hs-identifier hs-type">TypeVariant</span></a></span><span class="hs-special">]</span><span>   </span><span class="hs-comment">-- ^ List of variants, e.g., @Some@, @None@</span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501432"><span id="local-6989586621679501434"><span class="annot"><span class="annottext">TypeDef -&gt; TypeDef -&gt; Bool
(TypeDef -&gt; TypeDef -&gt; Bool)
-&gt; (TypeDef -&gt; TypeDef -&gt; Bool) -&gt; Eq TypeDef
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TypeDef -&gt; TypeDef -&gt; Bool
$c/= :: TypeDef -&gt; TypeDef -&gt; Bool
== :: TypeDef -&gt; TypeDef -&gt; Bool
$c== :: TypeDef -&gt; TypeDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501426"><span id="local-6989586621679501428"><span id="local-6989586621679501430"><span class="annot"><span class="annottext">Int -&gt; TypeDef -&gt; ShowS
[TypeDef] -&gt; ShowS
TypeDef -&gt; String
(Int -&gt; TypeDef -&gt; ShowS)
-&gt; (TypeDef -&gt; String) -&gt; ([TypeDef] -&gt; ShowS) -&gt; Show TypeDef
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TypeDef] -&gt; ShowS
$cshowList :: [TypeDef] -&gt; ShowS
show :: TypeDef -&gt; String
$cshow :: TypeDef -&gt; String
showsPrec :: Int -&gt; TypeDef -&gt; ShowS
$cshowsPrec :: Int -&gt; TypeDef -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-comment">-- | A type variant, i.e., a data constructor.</span><span>
</span><span id="line-37"></span><span class="hs-keyword">data</span><span> </span><span id="TypeVariant"><span class="annot"><a href="Front.Ast.html#TypeVariant"><span class="hs-identifier hs-var">TypeVariant</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="VariantUnnamed"><span class="annot"><a href="Front.Ast.html#VariantUnnamed"><span class="hs-identifier hs-var">VariantUnnamed</span></a></span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier hs-type">Identifier</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-type">Typ</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501421"><span id="local-6989586621679501423"><span class="annot"><span class="annottext">TypeVariant -&gt; TypeVariant -&gt; Bool
(TypeVariant -&gt; TypeVariant -&gt; Bool)
-&gt; (TypeVariant -&gt; TypeVariant -&gt; Bool) -&gt; Eq TypeVariant
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TypeVariant -&gt; TypeVariant -&gt; Bool
$c/= :: TypeVariant -&gt; TypeVariant -&gt; Bool
== :: TypeVariant -&gt; TypeVariant -&gt; Bool
$c== :: TypeVariant -&gt; TypeVariant -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501415"><span id="local-6989586621679501417"><span id="local-6989586621679501419"><span class="annot"><span class="annottext">Int -&gt; TypeVariant -&gt; ShowS
[TypeVariant] -&gt; ShowS
TypeVariant -&gt; String
(Int -&gt; TypeVariant -&gt; ShowS)
-&gt; (TypeVariant -&gt; String)
-&gt; ([TypeVariant] -&gt; ShowS)
-&gt; Show TypeVariant
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TypeVariant] -&gt; ShowS
$cshowList :: [TypeVariant] -&gt; ShowS
show :: TypeVariant -&gt; String
$cshow :: TypeVariant -&gt; String
showsPrec :: Int -&gt; TypeVariant -&gt; ShowS
$cshowsPrec :: Int -&gt; TypeVariant -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-comment">-- | A value definition.</span><span>
</span><span id="line-41"></span><span class="hs-keyword">data</span><span> </span><span id="Definition"><span class="annot"><a href="Front.Ast.html#Definition"><span class="hs-identifier hs-var">Definition</span></a></span></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DefFn"><span class="annot"><a href="Front.Ast.html#DefFn"><span class="hs-identifier hs-var">DefFn</span></a></span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier hs-type">Identifier</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="Front.Ast.html#TypFn"><span class="hs-identifier hs-type">TypFn</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DefPat"><span class="annot"><a href="Front.Ast.html#DefPat"><span class="hs-identifier hs-var">DefPat</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501409"><span id="local-6989586621679501411"><span class="annot"><span class="annottext">Definition -&gt; Definition -&gt; Bool
(Definition -&gt; Definition -&gt; Bool)
-&gt; (Definition -&gt; Definition -&gt; Bool) -&gt; Eq Definition
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Definition -&gt; Definition -&gt; Bool
$c/= :: Definition -&gt; Definition -&gt; Bool
== :: Definition -&gt; Definition -&gt; Bool
$c== :: Definition -&gt; Definition -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501403"><span id="local-6989586621679501405"><span id="local-6989586621679501407"><span class="annot"><span class="annottext">Int -&gt; Definition -&gt; ShowS
[Definition] -&gt; ShowS
Definition -&gt; String
(Int -&gt; Definition -&gt; ShowS)
-&gt; (Definition -&gt; String)
-&gt; ([Definition] -&gt; ShowS)
-&gt; Show Definition
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Definition] -&gt; ShowS
$cshowList :: [Definition] -&gt; ShowS
show :: Definition -&gt; String
$cshow :: Definition -&gt; String
showsPrec :: Int -&gt; Definition -&gt; ShowS
$cshowsPrec :: Int -&gt; Definition -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-comment">-- | A pattern appearing on the LHS of a definition or match arm</span><span>
</span><span id="line-47"></span><span class="hs-keyword">data</span><span> </span><span id="Pat"><span class="annot"><a href="Front.Ast.html#Pat"><span class="hs-identifier hs-var">Pat</span></a></span></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PatWildcard"><span class="annot"><a href="Front.Ast.html#PatWildcard"><span class="hs-identifier hs-var">PatWildcard</span></a></span></span><span>           </span><span class="hs-comment">-- ^ Match anything, i.e., @_@</span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PatId"><span class="annot"><a href="Front.Ast.html#PatId"><span class="hs-identifier hs-var">PatId</span></a></span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier hs-type">Identifier</span></a></span><span>      </span><span class="hs-comment">-- ^ Variable or data constructor, e.g., @v@ or @Some@</span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PatLit"><span class="annot"><a href="Front.Ast.html#PatLit"><span class="hs-identifier hs-var">PatLit</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Literal"><span class="hs-identifier hs-type">Literal</span></a></span><span>        </span><span class="hs-comment">-- ^ Literal match, e.g., @1@</span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PatAs"><span class="annot"><a href="Front.Ast.html#PatAs"><span class="hs-identifier hs-var">PatAs</span></a></span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier hs-type">Identifier</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span>  </span><span class="hs-comment">-- ^ Pattern alias, e.g., @a \@ &lt;pat&gt;@</span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PatTup"><span class="annot"><a href="Front.Ast.html#PatTup"><span class="hs-identifier hs-var">PatTup</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span class="hs-special">]</span><span>          </span><span class="hs-comment">-- ^ Match on a tuple, e.g., @(&lt;pat&gt;, &lt;pat&gt;)@</span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PatApp"><span class="annot"><a href="Front.Ast.html#PatApp"><span class="hs-identifier hs-var">PatApp</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span class="hs-special">]</span><span>          </span><span class="hs-comment">-- ^ Match on multiple patterns, e.g., @Some a@</span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PatAnn"><span class="annot"><a href="Front.Ast.html#PatAnn"><span class="hs-identifier hs-var">PatAnn</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-type">Typ</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span>        </span><span class="hs-comment">-- ^ Match with type annotation, e.g., @&lt;pat&gt;: Type@</span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501392"><span id="local-6989586621679501394"><span class="annot"><span class="annottext">Pat -&gt; Pat -&gt; Bool
(Pat -&gt; Pat -&gt; Bool) -&gt; (Pat -&gt; Pat -&gt; Bool) -&gt; Eq Pat
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Pat -&gt; Pat -&gt; Bool
$c/= :: Pat -&gt; Pat -&gt; Bool
== :: Pat -&gt; Pat -&gt; Bool
$c== :: Pat -&gt; Pat -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501386"><span id="local-6989586621679501388"><span id="local-6989586621679501390"><span class="annot"><span class="annottext">Int -&gt; Pat -&gt; ShowS
[Pat] -&gt; ShowS
Pat -&gt; String
(Int -&gt; Pat -&gt; ShowS)
-&gt; (Pat -&gt; String) -&gt; ([Pat] -&gt; ShowS) -&gt; Show Pat
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Pat] -&gt; ShowS
$cshowList :: [Pat] -&gt; ShowS
show :: Pat -&gt; String
$cshow :: Pat -&gt; String
showsPrec :: Int -&gt; Pat -&gt; ShowS
$cshowsPrec :: Int -&gt; Pat -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-comment">-- | Function type annotation</span><span>
</span><span id="line-58"></span><span class="hs-keyword">data</span><span> </span><span id="TypFn"><span class="annot"><a href="Front.Ast.html#TypFn"><span class="hs-identifier hs-var">TypFn</span></a></span></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TypReturn"><span class="annot"><a href="Front.Ast.html#TypReturn"><span class="hs-identifier hs-var">TypReturn</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#TypAnn"><span class="hs-identifier hs-type">TypAnn</span></a></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TypProper"><span class="annot"><a href="Front.Ast.html#TypProper"><span class="hs-identifier hs-var">TypProper</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#TypAnn"><span class="hs-identifier hs-type">TypAnn</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TypNone"><span class="annot"><a href="Front.Ast.html#TypNone"><span class="hs-identifier hs-var">TypNone</span></a></span></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501378"><span id="local-6989586621679501380"><span class="annot"><span class="annottext">TypFn -&gt; TypFn -&gt; Bool
(TypFn -&gt; TypFn -&gt; Bool) -&gt; (TypFn -&gt; TypFn -&gt; Bool) -&gt; Eq TypFn
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TypFn -&gt; TypFn -&gt; Bool
$c/= :: TypFn -&gt; TypFn -&gt; Bool
== :: TypFn -&gt; TypFn -&gt; Bool
$c== :: TypFn -&gt; TypFn -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501372"><span id="local-6989586621679501374"><span id="local-6989586621679501376"><span class="annot"><span class="annottext">Int -&gt; TypFn -&gt; ShowS
[TypFn] -&gt; ShowS
TypFn -&gt; String
(Int -&gt; TypFn -&gt; ShowS)
-&gt; (TypFn -&gt; String) -&gt; ([TypFn] -&gt; ShowS) -&gt; Show TypFn
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TypFn] -&gt; ShowS
$cshowList :: [TypFn] -&gt; ShowS
show :: TypFn -&gt; String
$cshow :: TypFn -&gt; String
showsPrec :: Int -&gt; TypFn -&gt; ShowS
$cshowsPrec :: Int -&gt; TypFn -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-comment">-- | TODO: type classes</span><span>
</span><span id="line-65"></span><span class="hs-keyword">type</span><span> </span><span id="TypAnn"><span class="annot"><a href="Front.Ast.html#TypAnn"><span class="hs-identifier hs-var">TypAnn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-type">Typ</span></a></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-comment">-- | A type definition</span><span>
</span><span id="line-68"></span><span class="hs-keyword">data</span><span> </span><span id="Typ"><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-var">Typ</span></a></span></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TCon"><span class="annot"><a href="Front.Ast.html#TCon"><span class="hs-identifier hs-var">TCon</span></a></span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier hs-type">Identifier</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TApp"><span class="annot"><a href="Front.Ast.html#TApp"><span class="hs-identifier hs-var">TApp</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-type">Typ</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-type">Typ</span></a></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TTuple"><span class="annot"><a href="Front.Ast.html#TTuple"><span class="hs-identifier hs-var">TTuple</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-type">Typ</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TArrow"><span class="annot"><a href="Front.Ast.html#TArrow"><span class="hs-identifier hs-var">TArrow</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-type">Typ</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-type">Typ</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-comment">-- TODO type variables</span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501364"><span id="local-6989586621679501366"><span class="annot"><span class="annottext">Typ -&gt; Typ -&gt; Bool
(Typ -&gt; Typ -&gt; Bool) -&gt; (Typ -&gt; Typ -&gt; Bool) -&gt; Eq Typ
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Typ -&gt; Typ -&gt; Bool
$c/= :: Typ -&gt; Typ -&gt; Bool
== :: Typ -&gt; Typ -&gt; Bool
$c== :: Typ -&gt; Typ -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501358"><span id="local-6989586621679501360"><span id="local-6989586621679501362"><span class="annot"><span class="annottext">Int -&gt; Typ -&gt; ShowS
[Typ] -&gt; ShowS
Typ -&gt; String
(Int -&gt; Typ -&gt; ShowS)
-&gt; (Typ -&gt; String) -&gt; ([Typ] -&gt; ShowS) -&gt; Show Typ
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Typ] -&gt; ShowS
$cshowList :: [Typ] -&gt; ShowS
show :: Typ -&gt; String
$cshow :: Typ -&gt; String
showsPrec :: Int -&gt; Typ -&gt; ShowS
$cshowsPrec :: Int -&gt; Typ -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-comment">-- | An expression</span><span>
</span><span id="line-77"></span><span class="hs-keyword">data</span><span> </span><span id="Expr"><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-var">Expr</span></a></span></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Id"><span class="annot"><a href="Front.Ast.html#Id"><span class="hs-identifier hs-var">Id</span></a></span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier hs-type">Identifier</span></a></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Lit"><span class="annot"><a href="Front.Ast.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Literal"><span class="hs-identifier hs-type">Literal</span></a></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Apply"><span class="annot"><a href="Front.Ast.html#Apply"><span class="hs-identifier hs-var">Apply</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Lambda"><span class="annot"><a href="Front.Ast.html#Lambda"><span class="hs-identifier hs-var">Lambda</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="OpRegion"><span class="annot"><a href="Front.Ast.html#OpRegion"><span class="hs-identifier hs-var">OpRegion</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#OpRegion"><span class="hs-identifier hs-type">OpRegion</span></a></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NoExpr"><span class="annot"><a href="Front.Ast.html#NoExpr"><span class="hs-identifier hs-var">NoExpr</span></a></span></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Let"><span class="annot"><a href="Front.Ast.html#Let"><span class="hs-identifier hs-var">Let</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Definition"><span class="hs-identifier hs-type">Definition</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="While"><span class="annot"><a href="Front.Ast.html#While"><span class="hs-identifier hs-var">While</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Loop"><span class="annot"><a href="Front.Ast.html#Loop"><span class="hs-identifier hs-var">Loop</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Par"><span class="annot"><a href="Front.Ast.html#Par"><span class="hs-identifier hs-var">Par</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="IfElse"><span class="annot"><a href="Front.Ast.html#IfElse"><span class="hs-identifier hs-var">IfElse</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="After"><span class="annot"><a href="Front.Ast.html#After"><span class="hs-identifier hs-var">After</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Assign"><span class="annot"><a href="Front.Ast.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Constraint"><span class="annot"><a href="Front.Ast.html#Constraint"><span class="hs-identifier hs-var">Constraint</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#TypAnn"><span class="hs-identifier hs-type">TypAnn</span></a></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Wait"><span class="annot"><a href="Front.Ast.html#Wait"><span class="hs-identifier hs-var">Wait</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Seq"><span class="annot"><a href="Front.Ast.html#Seq"><span class="hs-identifier hs-var">Seq</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Break"><span class="annot"><a href="Front.Ast.html#Break"><span class="hs-identifier hs-var">Break</span></a></span></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Match"><span class="annot"><a href="Front.Ast.html#Match"><span class="hs-identifier hs-var">Match</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CQuote"><span class="annot"><a href="Front.Ast.html#CQuote"><span class="hs-identifier hs-var">CQuote</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CCall"><span class="annot"><a href="Front.Ast.html#CCall"><span class="hs-identifier hs-var">CCall</span></a></span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier hs-type">Identifier</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501334"><span id="local-6989586621679501336"><span class="annot"><span class="annottext">Expr -&gt; Expr -&gt; Bool
(Expr -&gt; Expr -&gt; Bool) -&gt; (Expr -&gt; Expr -&gt; Bool) -&gt; Eq Expr
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Expr -&gt; Expr -&gt; Bool
$c/= :: Expr -&gt; Expr -&gt; Bool
== :: Expr -&gt; Expr -&gt; Bool
$c== :: Expr -&gt; Expr -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501328"><span id="local-6989586621679501330"><span id="local-6989586621679501332"><span class="annot"><span class="annottext">Int -&gt; Expr -&gt; ShowS
[Expr] -&gt; ShowS
Expr -&gt; String
(Int -&gt; Expr -&gt; ShowS)
-&gt; (Expr -&gt; String) -&gt; ([Expr] -&gt; ShowS) -&gt; Show Expr
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Expr] -&gt; ShowS
$cshowList :: [Expr] -&gt; ShowS
show :: Expr -&gt; String
$cshow :: Expr -&gt; String
showsPrec :: Int -&gt; Expr -&gt; ShowS
$cshowsPrec :: Int -&gt; Expr -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-comment">{- | An operator region: a flat list of alternating expressions and operators
that is initially parsed flat but will be restructured into a tree by
the operator precedence parser.
-}</span><span>
</span><span id="line-104"></span><span class="hs-keyword">data</span><span> </span><span id="OpRegion"><span class="annot"><a href="Front.Ast.html#OpRegion"><span class="hs-identifier hs-var">OpRegion</span></a></span></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="NextOp"><span class="annot"><a href="Front.Ast.html#NextOp"><span class="hs-identifier hs-var">NextOp</span></a></span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier hs-type">Identifier</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#OpRegion"><span class="hs-identifier hs-type">OpRegion</span></a></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="EOR"><span class="annot"><a href="Front.Ast.html#EOR"><span class="hs-identifier hs-var">EOR</span></a></span></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501322"><span id="local-6989586621679501324"><span class="annot"><span class="annottext">OpRegion -&gt; OpRegion -&gt; Bool
(OpRegion -&gt; OpRegion -&gt; Bool)
-&gt; (OpRegion -&gt; OpRegion -&gt; Bool) -&gt; Eq OpRegion
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: OpRegion -&gt; OpRegion -&gt; Bool
$c/= :: OpRegion -&gt; OpRegion -&gt; Bool
== :: OpRegion -&gt; OpRegion -&gt; Bool
$c== :: OpRegion -&gt; OpRegion -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501316"><span id="local-6989586621679501318"><span id="local-6989586621679501320"><span class="annot"><span class="annottext">Int -&gt; OpRegion -&gt; ShowS
[OpRegion] -&gt; ShowS
OpRegion -&gt; String
(Int -&gt; OpRegion -&gt; ShowS)
-&gt; (OpRegion -&gt; String) -&gt; ([OpRegion] -&gt; ShowS) -&gt; Show OpRegion
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [OpRegion] -&gt; ShowS
$cshowList :: [OpRegion] -&gt; ShowS
show :: OpRegion -&gt; String
$cshow :: OpRegion -&gt; String
showsPrec :: Int -&gt; OpRegion -&gt; ShowS
$cshowsPrec :: Int -&gt; OpRegion -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-comment">-- | A literal</span><span>
</span><span id="line-110"></span><span class="hs-keyword">data</span><span> </span><span id="Literal"><span class="annot"><a href="Front.Ast.html#Literal"><span class="hs-identifier hs-var">Literal</span></a></span></span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="LitInt"><span class="annot"><a href="Front.Ast.html#LitInt"><span class="hs-identifier hs-var">LitInt</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LitString"><span class="annot"><a href="Front.Ast.html#LitString"><span class="hs-identifier hs-var">LitString</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LitRat"><span class="annot"><a href="Front.Ast.html#LitRat"><span class="hs-identifier hs-var">LitRat</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LitChar"><span class="annot"><a href="Front.Ast.html#LitChar"><span class="hs-identifier hs-var">LitChar</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LitEvent"><span class="annot"><a href="Front.Ast.html#LitEvent"><span class="hs-identifier hs-var">LitEvent</span></a></span></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501307"><span id="local-6989586621679501309"><span class="annot"><span class="annottext">Literal -&gt; Literal -&gt; Bool
(Literal -&gt; Literal -&gt; Bool)
-&gt; (Literal -&gt; Literal -&gt; Bool) -&gt; Eq Literal
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Literal -&gt; Literal -&gt; Bool
$c/= :: Literal -&gt; Literal -&gt; Bool
== :: Literal -&gt; Literal -&gt; Bool
$c== :: Literal -&gt; Literal -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501301"><span id="local-6989586621679501303"><span id="local-6989586621679501305"><span class="annot"><span class="annottext">Int -&gt; Literal -&gt; ShowS
[Literal] -&gt; ShowS
Literal -&gt; String
(Int -&gt; Literal -&gt; ShowS)
-&gt; (Literal -&gt; String) -&gt; ([Literal] -&gt; ShowS) -&gt; Show Literal
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Literal] -&gt; ShowS
$cshowList :: [Literal] -&gt; ShowS
show :: Literal -&gt; String
$cshow :: Literal -&gt; String
showsPrec :: Int -&gt; Literal -&gt; ShowS
$cshowsPrec :: Int -&gt; Literal -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-comment">-- | Fixity declaration for binary operators.</span><span>
</span><span id="line-119"></span><span class="hs-keyword">data</span><span> </span><span id="Fixity"><span class="annot"><a href="Front.Ast.html#Fixity"><span class="hs-identifier hs-var">Fixity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Infixl"><span class="annot"><a href="Front.Ast.html#Infixl"><span class="hs-identifier hs-var">Infixl</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier hs-type">Identifier</span></a></span><span>
</span><span id="line-120"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span id="Infixr"><span class="annot"><a href="Front.Ast.html#Infixr"><span class="hs-identifier hs-var">Infixr</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifier"><span class="hs-identifier hs-type">Identifier</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-comment">-- | Collect a type application into the type constructor and its arguments.</span><span>
</span><span id="line-123"></span><span class="annot"><a href="Front.Ast.html#collectTApp"><span class="hs-identifier hs-type">collectTApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-type">Typ</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-type">Typ</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-type">Typ</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span id="collectTApp"><span class="annot"><span class="annottext">collectTApp :: Typ -&gt; (Typ, [Typ])
</span><a href="Front.Ast.html#collectTApp"><span class="hs-identifier hs-var hs-var">collectTApp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TApp"><span class="hs-identifier hs-type">TApp</span></a></span><span> </span><span id="local-6989586621679501296"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501296"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621679501295"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501295"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501294"><span class="hs-identifier hs-var">lf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Typ]
</span><a href="#local-6989586621679501293"><span class="hs-identifier hs-var">la</span></a></span><span> </span><span class="annot"><span class="annottext">[Typ] -&gt; [Typ] -&gt; [Typ]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501295"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501294"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501294"><span class="hs-identifier hs-var">lf</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501293"><span class="annot"><span class="annottext">[Typ]
</span><a href="#local-6989586621679501293"><span class="hs-identifier hs-var">la</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Typ -&gt; (Typ, [Typ])
</span><a href="Front.Ast.html#collectTApp"><span class="hs-identifier hs-var">collectTApp</span></a></span><span> </span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501296"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-126"></span><span class="annot"><a href="Front.Ast.html#collectTApp"><span class="hs-identifier hs-var">collectTApp</span></a></span><span> </span><span id="local-6989586621679501292"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501292"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501292"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-comment">-- | Collect a curried application into the function and its list of arguments.</span><span>
</span><span id="line-129"></span><span class="annot"><a href="Front.Ast.html#collectApp"><span class="hs-identifier hs-type">collectApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span id="collectApp"><span class="annot"><span class="annottext">collectApp :: Expr -&gt; (Expr, [Expr])
</span><a href="Front.Ast.html#collectApp"><span class="hs-identifier hs-var hs-var">collectApp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Apply"><span class="hs-identifier hs-type">Apply</span></a></span><span> </span><span id="local-6989586621679501290"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501290"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621679501289"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501289"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501288"><span class="hs-identifier hs-var">lf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Expr]
</span><a href="#local-6989586621679501287"><span class="hs-identifier hs-var">la</span></a></span><span> </span><span class="annot"><span class="annottext">[Expr] -&gt; [Expr] -&gt; [Expr]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501289"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501288"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501288"><span class="hs-identifier hs-var">lf</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501287"><span class="annot"><span class="annottext">[Expr]
</span><a href="#local-6989586621679501287"><span class="hs-identifier hs-var">la</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Expr -&gt; (Expr, [Expr])
</span><a href="Front.Ast.html#collectApp"><span class="hs-identifier hs-var">collectApp</span></a></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501290"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-131"></span><span class="annot"><a href="Front.Ast.html#collectApp"><span class="hs-identifier hs-var">collectApp</span></a></span><span> </span><span id="local-6989586621679501286"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501286"><span class="hs-identifier hs-var">t</span></a></span></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501286"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="hs-comment">-- | Collect a pattern application into the destructor and arguments.</span><span>
</span><span id="line-134"></span><span class="annot"><a href="Front.Ast.html#collectPApp"><span class="hs-identifier hs-type">collectPApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Front.Ast.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span id="collectPApp"><span class="annot"><span class="annottext">collectPApp :: Pat -&gt; (Pat, [Pat])
</span><a href="Front.Ast.html#collectPApp"><span class="hs-identifier hs-var hs-var">collectPApp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#PatApp"><span class="hs-identifier hs-type">PatApp</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501284"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621679501284"><span class="hs-identifier hs-var">p</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679501283"><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621679501283"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621679501284"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621679501283"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span class="annot"><a href="Front.Ast.html#collectPApp"><span class="hs-identifier hs-var">collectPApp</span></a></span><span> </span><span id="local-6989586621679501282"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621679501282"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621679501282"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Note that @PatApp []@ is probably malformed!</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-comment">-- | Unwrap a (potential) top-level data definition.</span><span>
</span><span id="line-139"></span><span class="annot"><a href="Front.Ast.html#getTopDataDef"><span class="hs-identifier hs-type">getTopDataDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Front.Ast.html#TopDef"><span class="hs-identifier hs-type">TopDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Front.Ast.html#Definition"><span class="hs-identifier hs-type">Definition</span></a></span><span>
</span><span id="line-140"></span><span id="getTopDataDef"><span class="annot"><span class="annottext">getTopDataDef :: TopDef -&gt; Maybe Definition
</span><a href="Front.Ast.html#getTopDataDef"><span class="hs-identifier hs-var hs-var">getTopDataDef</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TopDef"><span class="hs-identifier hs-type">TopDef</span></a></span><span> </span><span id="local-6989586621679501280"><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621679501280"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Maybe Definition
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621679501280"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-141"></span><span class="annot"><a href="Front.Ast.html#getTopDataDef"><span class="hs-identifier hs-var">getTopDataDef</span></a></span><span> </span><span class="annot"><span class="annottext">TopDef
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Definition
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-comment">-- | Unwrap a (potential) top-level type definition.</span><span>
</span><span id="line-144"></span><span class="annot"><a href="Front.Ast.html#getTopTypeDef"><span class="hs-identifier hs-type">getTopTypeDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Front.Ast.html#TopDef"><span class="hs-identifier hs-type">TopDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Front.Ast.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a></span><span>
</span><span id="line-145"></span><span id="getTopTypeDef"><span class="annot"><span class="annottext">getTopTypeDef :: TopDef -&gt; Maybe TypeDef
</span><a href="Front.Ast.html#getTopTypeDef"><span class="hs-identifier hs-var hs-var">getTopTypeDef</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TopType"><span class="hs-identifier hs-type">TopType</span></a></span><span> </span><span id="local-6989586621679501278"><span class="annot"><span class="annottext">TypeDef
</span><a href="#local-6989586621679501278"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeDef -&gt; Maybe TypeDef
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">TypeDef
</span><a href="#local-6989586621679501278"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-146"></span><span class="annot"><a href="Front.Ast.html#getTopTypeDef"><span class="hs-identifier hs-var">getTopTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">TopDef
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TypeDef
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-comment">-- | Unwrap a (potential) top-level C inline block.</span><span>
</span><span id="line-149"></span><span class="annot"><a href="Front.Ast.html#getTopCDefs"><span class="hs-identifier hs-type">getTopCDefs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Front.Ast.html#TopDef"><span class="hs-identifier hs-type">TopDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-150"></span><span id="getTopCDefs"><span class="annot"><span class="annottext">getTopCDefs :: TopDef -&gt; Maybe String
</span><a href="Front.Ast.html#getTopCDefs"><span class="hs-identifier hs-var hs-var">getTopCDefs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TopCDefs"><span class="hs-identifier hs-type">TopCDefs</span></a></span><span> </span><span id="local-6989586621679501276"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679501276"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679501276"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-151"></span><span class="annot"><a href="Front.Ast.html#getTopCDefs"><span class="hs-identifier hs-var">getTopCDefs</span></a></span><span> </span><span class="annot"><span class="annottext">TopDef
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">-- | Unwrap a (potential) top-level external definition.</span><span>
</span><span id="line-154"></span><span class="annot"><a href="Front.Ast.html#getTopExtern"><span class="hs-identifier hs-type">getTopExtern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Front.Ast.html#TopDef"><span class="hs-identifier hs-type">TopDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Front.Ast.html#ExternDecl"><span class="hs-identifier hs-type">ExternDecl</span></a></span><span>
</span><span id="line-155"></span><span id="getTopExtern"><span class="annot"><span class="annottext">getTopExtern :: TopDef -&gt; Maybe ExternDecl
</span><a href="Front.Ast.html#getTopExtern"><span class="hs-identifier hs-var hs-var">getTopExtern</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TopExtern"><span class="hs-identifier hs-type">TopExtern</span></a></span><span> </span><span id="local-6989586621679501274"><span class="annot"><span class="annottext">ExternDecl
</span><a href="#local-6989586621679501274"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExternDecl -&gt; Maybe ExternDecl
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">ExternDecl
</span><a href="#local-6989586621679501274"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-156"></span><span class="annot"><a href="Front.Ast.html#getTopExtern"><span class="hs-identifier hs-var">getTopExtern</span></a></span><span> </span><span class="annot"><span class="annottext">TopDef
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ExternDecl
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-comment">-- | Unzip a list of top-level declarations into their counterparts.</span><span>
</span><span id="line-159"></span><span class="annot"><a href="Front.Ast.html#getTops"><span class="hs-identifier hs-type">getTops</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#TopDef"><span class="hs-identifier hs-type">TopDef</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#ExternDecl"><span class="hs-identifier hs-type">ExternDecl</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Front.Ast.html#Definition"><span class="hs-identifier hs-type">Definition</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span id="getTops"><span class="annot"><span class="annottext">getTops :: [TopDef] -&gt; ([TypeDef], [String], [ExternDecl], [Definition])
</span><a href="Front.Ast.html#getTops"><span class="hs-identifier hs-var hs-var">getTops</span></a></span></span><span> </span><span id="local-6989586621679501272"><span class="annot"><span class="annottext">[TopDef]
</span><a href="#local-6989586621679501272"><span class="hs-identifier hs-var">tds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(TopDef -&gt; Maybe TypeDef) -&gt; [TopDef] -&gt; [TypeDef]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">TopDef -&gt; Maybe TypeDef
</span><a href="Front.Ast.html#getTopTypeDef"><span class="hs-identifier hs-var">getTopTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">[TopDef]
</span><a href="#local-6989586621679501272"><span class="hs-identifier hs-var">tds</span></a></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(TopDef -&gt; Maybe String) -&gt; [TopDef] -&gt; [String]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">TopDef -&gt; Maybe String
</span><a href="Front.Ast.html#getTopCDefs"><span class="hs-identifier hs-var">getTopCDefs</span></a></span><span>   </span><span class="annot"><span class="annottext">[TopDef]
</span><a href="#local-6989586621679501272"><span class="hs-identifier hs-var">tds</span></a></span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(TopDef -&gt; Maybe ExternDecl) -&gt; [TopDef] -&gt; [ExternDecl]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">TopDef -&gt; Maybe ExternDecl
</span><a href="Front.Ast.html#getTopExtern"><span class="hs-identifier hs-var">getTopExtern</span></a></span><span>  </span><span class="annot"><span class="annottext">[TopDef]
</span><a href="#local-6989586621679501272"><span class="hs-identifier hs-var">tds</span></a></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(TopDef -&gt; Maybe Definition) -&gt; [TopDef] -&gt; [Definition]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">TopDef -&gt; Maybe Definition
</span><a href="Front.Ast.html#getTopDataDef"><span class="hs-identifier hs-var">getTopDataDef</span></a></span><span> </span><span class="annot"><span class="annottext">[TopDef]
</span><a href="#local-6989586621679501272"><span class="hs-identifier hs-var">tds</span></a></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501269"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Front.Ast.html#Program"><span class="hs-identifier hs-type">Program</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-168"></span><span>  </span><span id="local-6989586621679501267"><span class="annot"><span class="annottext">pretty :: Program -&gt; Doc ann
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Program"><span class="hs-identifier hs-type">Program</span></a></span><span> </span><span id="local-6989586621679501265"><span class="annot"><span class="annottext">[TopDef]
</span><a href="#local-6989586621679501265"><span class="hs-identifier hs-var">defs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">intersperse</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">emptyDoc</span></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; [Doc ann]) -&gt; [Doc ann] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(TopDef -&gt; Doc ann) -&gt; [TopDef] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">TopDef -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[TopDef]
</span><a href="#local-6989586621679501265"><span class="hs-identifier hs-var">defs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501260"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Front.Ast.html#TopDef"><span class="hs-identifier hs-type">TopDef</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-171"></span><span>  </span><span id="local-6989586621679501259"><span class="annot"><span class="annottext">pretty :: TopDef -&gt; Doc ann
</span><a href="#local-6989586621679501259"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TopDef"><span class="hs-identifier hs-type">TopDef</span></a></span><span>    </span><span id="local-6989586621679501258"><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621679501258"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621679501258"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TopType"><span class="hs-identifier hs-type">TopType</span></a></span><span>   </span><span id="local-6989586621679501257"><span class="annot"><span class="annottext">TypeDef
</span><a href="#local-6989586621679501257"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeDef -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TypeDef
</span><a href="#local-6989586621679501257"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-173"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TopCDefs"><span class="hs-identifier hs-type">TopCDefs</span></a></span><span>  </span><span id="local-6989586621679501256"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679501256"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;$$&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679501256"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;$$&quot;</span></span><span>
</span><span id="line-174"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TopExtern"><span class="hs-identifier hs-type">TopExtern</span></a></span><span> </span><span id="local-6989586621679501255"><span class="annot"><span class="annottext">ExternDecl
</span><a href="#local-6989586621679501255"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExternDecl -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">ExternDecl
</span><a href="#local-6989586621679501255"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501252"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Front.Ast.html#ExternDecl"><span class="hs-identifier hs-type">ExternDecl</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-177"></span><span>  </span><span id="local-6989586621679501251"><span class="annot"><span class="annottext">pretty :: ExternDecl -&gt; Doc ann
</span><a href="#local-6989586621679501251"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#ExternDecl"><span class="hs-identifier hs-type">ExternDecl</span></a></span><span> </span><span id="local-6989586621679501250"><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501250"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679501249"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501249"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extern&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Identifier -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501250"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">colon</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Typ -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501249"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501244"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Front.Ast.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-180"></span><span>  </span><span id="local-6989586621679501243"><span class="annot"><span class="annottext">pretty :: TypeDef -&gt; Doc ann
</span><a href="#local-6989586621679501243"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><a href="Front.Ast.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">typeName :: TypeDef -&gt; Identifier
</span><a href="Front.Ast.html#typeName"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679501242"><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501242"><span class="hs-identifier hs-var">tn</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">typeParams :: TypeDef -&gt; [Identifier]
</span><a href="Front.Ast.html#typeParams"><span class="hs-identifier hs-var">typeParams</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679501241"><span class="annot"><span class="annottext">[Identifier]
</span><a href="#local-6989586621679501241"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">typeVariants :: TypeDef -&gt; [TypeVariant]
</span><a href="Front.Ast.html#typeVariants"><span class="hs-identifier hs-var">typeVariants</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679501240"><span class="annot"><span class="annottext">[TypeVariant]
</span><a href="#local-6989586621679501240"><span class="hs-identifier hs-var">tds</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-181"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;type&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Identifier -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501242"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(Identifier -&gt; Doc ann) -&gt; [Identifier] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Identifier -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[Identifier]
</span><a href="#local-6989586621679501241"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">equals</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span>
</span><span id="line-182"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; Doc ann) -&gt; [Doc ann] -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall ann. Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><a href="Common.Pretty.html#bar"><span class="hs-identifier hs-var">bar</span></a></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; [Doc ann]) -&gt; [Doc ann] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(TypeVariant -&gt; Doc ann) -&gt; [TypeVariant] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">TypeVariant -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[TypeVariant]
</span><a href="#local-6989586621679501240"><span class="hs-identifier hs-var">tds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501232"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Front.Ast.html#TypeVariant"><span class="hs-identifier hs-type">TypeVariant</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-185"></span><span>  </span><span id="local-6989586621679501231"><span class="annot"><span class="annottext">pretty :: TypeVariant -&gt; Doc ann
</span><a href="#local-6989586621679501231"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#VariantUnnamed"><span class="hs-identifier hs-type">VariantUnnamed</span></a></span><span> </span><span id="local-6989586621679501230"><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501230"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span id="local-6989586621679501229"><span class="annot"><span class="annottext">[Typ]
</span><a href="#local-6989586621679501229"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Identifier -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501230"><span class="hs-identifier hs-var">dc</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Typ -&gt; Doc ann) -&gt; [Typ] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Typ -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[Typ]
</span><a href="#local-6989586621679501229"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501226"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Front.Ast.html#Definition"><span class="hs-identifier hs-type">Definition</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-188"></span><span>  </span><span id="local-6989586621679501225"><span class="annot"><span class="annottext">pretty :: Definition -&gt; Doc ann
</span><a href="#local-6989586621679501225"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#DefFn"><span class="hs-identifier hs-type">DefFn</span></a></span><span> </span><span id="local-6989586621679501224"><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501224"><span class="hs-identifier hs-var">fid</span></a></span></span><span> </span><span id="local-6989586621679501223"><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621679501223"><span class="hs-identifier hs-var">formals</span></a></span></span><span> </span><span id="local-6989586621679501222"><span class="annot"><span class="annottext">TypFn
</span><a href="#local-6989586621679501222"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679501221"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501221"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-189"></span><span>    </span><span class="annot"><span class="annottext">Identifier -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501224"><span class="hs-identifier hs-var">fid</span></a></span><span>
</span><span id="line-190"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Pat -&gt; Doc ann) -&gt; [Pat] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; (Pat -&gt; Doc ann) -&gt; Pat -&gt; Doc ann
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Pat -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621679501223"><span class="hs-identifier hs-var">formals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">TypFn -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TypFn
</span><a href="#local-6989586621679501222"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-192"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">equals</span></span><span>
</span><span id="line-193"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501221"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#DefPat"><span class="hs-identifier hs-type">DefPat</span></a></span><span> </span><span id="local-6989586621679501218"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621679501218"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679501217"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501217"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pat -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621679501218"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">equals</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501217"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501214"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Front.Ast.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-198"></span><span>  </span><span id="local-6989586621679501213"><span class="annot"><span class="annottext">pretty :: Pat -&gt; Doc ann
</span><a href="#local-6989586621679501213"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="Front.Ast.html#PatWildcard"><span class="hs-identifier hs-var">PatWildcard</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'_'</span></span><span>
</span><span id="line-199"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#PatId"><span class="hs-identifier hs-type">PatId</span></a></span><span>  </span><span id="local-6989586621679501212"><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501212"><span class="hs-identifier hs-var">s</span></a></span></span><span>   </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Identifier -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501212"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-200"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#PatApp"><span class="hs-identifier hs-type">PatApp</span></a></span><span> </span><span id="local-6989586621679501211"><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621679501211"><span class="hs-identifier hs-var">ps</span></a></span></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; Doc ann) -&gt; [Doc ann] -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Pat -&gt; Doc ann) -&gt; [Pat] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Pat -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621679501211"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-201"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#PatLit"><span class="hs-identifier hs-type">PatLit</span></a></span><span> </span><span id="local-6989586621679501210"><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621679501210"><span class="hs-identifier hs-var">l</span></a></span></span><span>   </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621679501210"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-202"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#PatAs"><span class="hs-identifier hs-type">PatAs</span></a></span><span> </span><span id="local-6989586621679501209"><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501209"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679501208"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621679501208"><span class="hs-identifier hs-var">p</span></a></span></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Identifier -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501209"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'@'</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pat -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621679501208"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-203"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#PatTup"><span class="hs-identifier hs-type">PatTup</span></a></span><span> </span><span id="local-6989586621679501207"><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621679501207"><span class="hs-identifier hs-var">bs</span></a></span></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall ann. Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; [Doc ann]) -&gt; [Doc ann] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Pat -&gt; Doc ann) -&gt; [Pat] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Pat -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621679501207"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#PatAnn"><span class="hs-identifier hs-type">PatAnn</span></a></span><span> </span><span id="local-6989586621679501205"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501205"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621679501204"><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621679501204"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pat -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Pat
</span><a href="#local-6989586621679501204"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">colon</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Typ -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501205"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501201"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Front.Ast.html#TypFn"><span class="hs-identifier hs-type">TypFn</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-207"></span><span>  </span><span id="local-6989586621679501200"><span class="annot"><span class="annottext">pretty :: TypFn -&gt; Doc ann
</span><a href="#local-6989586621679501200"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TypReturn"><span class="hs-identifier hs-type">TypReturn</span></a></span><span> </span><span id="local-6989586621679501199"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501199"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><a href="Common.Pretty.html#rarrow"><span class="hs-identifier hs-var">rarrow</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Typ -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501199"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-208"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TypProper"><span class="hs-identifier hs-type">TypProper</span></a></span><span> </span><span id="local-6989586621679501197"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501197"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">colon</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Typ -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501197"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-209"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TypFn
</span><a href="Front.Ast.html#TypNone"><span class="hs-identifier hs-var">TypNone</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">emptyDoc</span></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501194"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Front.Ast.html#Typ"><span class="hs-identifier hs-type">Typ</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-212"></span><span>  </span><span id="local-6989586621679501193"><span class="annot"><span class="annottext">pretty :: Typ -&gt; Doc ann
</span><a href="#local-6989586621679501193"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TTuple"><span class="hs-identifier hs-type">TTuple</span></a></span><span> </span><span id="local-6989586621679501192"><span class="annot"><span class="annottext">[Typ]
</span><a href="#local-6989586621679501192"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall ann. Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; [Doc ann]) -&gt; [Doc ann] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Typ -&gt; Doc ann) -&gt; [Typ] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Typ -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[Typ]
</span><a href="#local-6989586621679501192"><span class="hs-identifier hs-var">tys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span>   </span><span id="local-6989586621679501191"><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501191"><span class="hs-identifier hs-var">cid</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Identifier -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501191"><span class="hs-identifier hs-var">cid</span></a></span><span>
</span><span id="line-214"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TApp"><span class="hs-identifier hs-type">TApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span id="local-6989586621679501190"><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501190"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501189"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501189"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Identifier -&gt; String
forall i. Identifiable i =&gt; i -&gt; String
</span><a href="Common.Identifiers.html#ident"><span class="hs-identifier hs-var">ident</span></a></span><span> </span><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501190"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;[]&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">brackets</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Typ -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501189"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-215"></span><span>                             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Identifier -&gt; String
forall i. Identifiable i =&gt; i -&gt; String
</span><a href="Common.Identifiers.html#ident"><span class="hs-identifier hs-var">ident</span></a></span><span> </span><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501190"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&amp;&quot;</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><a href="Common.Pretty.html#amp"><span class="hs-identifier hs-var">amp</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Typ -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501189"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-216"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TApp"><span class="hs-identifier hs-type">TApp</span></a></span><span>   </span><span id="local-6989586621679501185"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501185"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679501184"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501184"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Typ -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501185"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Typ -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501184"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-217"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#TArrow"><span class="hs-identifier hs-type">TArrow</span></a></span><span> </span><span id="local-6989586621679501183"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501183"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679501182"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501182"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Typ -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501183"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><a href="Common.Pretty.html#rarrow"><span class="hs-identifier hs-var">rarrow</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Typ -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501182"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501179"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Front.Ast.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-221"></span><span>  </span><span id="local-6989586621679501178"><span class="annot"><span class="annottext">pretty :: Expr -&gt; Doc ann
</span><a href="#local-6989586621679501178"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Let"><span class="hs-identifier hs-type">Let</span></a></span><span> </span><span id="local-6989586621679501177"><span class="annot"><span class="annottext">[Definition]
</span><a href="#local-6989586621679501177"><span class="hs-identifier hs-var">defs</span></a></span></span><span> </span><span id="local-6989586621679501176"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501176"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-222"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;let&quot;</span></span><span>
</span><span id="line-223"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; Doc ann) -&gt; [Doc ann] -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall ann. Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><a href="Common.Pretty.html#dbar"><span class="hs-identifier hs-var">dbar</span></a></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; [Doc ann]) -&gt; [Doc ann] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Definition -&gt; Doc ann) -&gt; [Definition] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[Definition]
</span><a href="#local-6989586621679501177"><span class="hs-identifier hs-var">defs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>  </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">semi</span></span><span>
</span><span id="line-225"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501176"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Seq"><span class="hs-identifier hs-type">Seq</span></a></span><span> </span><span id="local-6989586621679501173"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501173"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621679501172"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501172"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501173"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">semi</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501172"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-227"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#After"><span class="hs-identifier hs-type">After</span></a></span><span> </span><span id="local-6989586621679501171"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501171"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621679501170"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501170"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679501169"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501169"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-228"></span><span>    </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span>
</span><span id="line-229"></span><span>      </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>   </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;after&quot;</span></span><span>
</span><span id="line-230"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501171"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-231"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">comma</span></span><span>
</span><span id="line-232"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501170"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-233"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><a href="Common.Pretty.html#larrow"><span class="hs-identifier hs-var">larrow</span></a></span><span>
</span><span id="line-234"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501169"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span>     </span><span id="local-6989586621679501167"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501167"><span class="hs-identifier hs-var">v</span></a></span></span><span>  </span><span id="local-6989586621679501166"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501166"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501167"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><a href="Common.Pretty.html#larrow"><span class="hs-identifier hs-var">larrow</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501166"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Constraint"><span class="hs-identifier hs-type">Constraint</span></a></span><span> </span><span id="local-6989586621679501165"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501165"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span id="local-6989586621679501164"><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501164"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501165"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">colon</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Typ -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Typ
</span><a href="#local-6989586621679501164"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-237"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#OpRegion"><span class="hs-identifier hs-type">OpRegion</span></a></span><span>   </span><span id="local-6989586621679501163"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501163"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621679501162"><span class="annot"><span class="annottext">OpRegion
</span><a href="#local-6989586621679501162"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501163"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">OpRegion -&gt; Doc ann
forall ann. OpRegion -&gt; Doc ann
</span><a href="#local-6989586621679501161"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">OpRegion
</span><a href="#local-6989586621679501162"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-238"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-239"></span><span>    </span><span id="local-6989586621679501161"><span class="annot"><span class="annottext">p :: OpRegion -&gt; Doc ann
</span><a href="#local-6989586621679501161"><span class="hs-identifier hs-var hs-var">p</span></a></span></span><span> </span><span class="annot"><span class="annottext">OpRegion
</span><a href="Front.Ast.html#EOR"><span class="hs-identifier hs-var">EOR</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">emptyDoc</span></span><span>
</span><span id="line-240"></span><span>    </span><span class="annot"><a href="#local-6989586621679501161"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#NextOp"><span class="hs-identifier hs-type">NextOp</span></a></span><span> </span><span id="local-6989586621679501160"><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501160"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679501159"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501159"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621679501158"><span class="annot"><span class="annottext">OpRegion
</span><a href="#local-6989586621679501158"><span class="hs-identifier hs-var">r'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">space</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Identifier -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501160"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501159"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">OpRegion -&gt; Doc ann
</span><a href="#local-6989586621679501161"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">OpRegion
</span><a href="#local-6989586621679501158"><span class="hs-identifier hs-var">r'</span></a></span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#IfElse"><span class="hs-identifier hs-type">IfElse</span></a></span><span> </span><span id="local-6989586621679501156"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501156"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621679501155"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501155"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="Front.Ast.html#NoExpr"><span class="hs-identifier hs-var">NoExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-242"></span><span>    </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;if&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501156"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501155"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#IfElse"><span class="hs-identifier hs-type">IfElse</span></a></span><span> </span><span id="local-6989586621679501154"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501154"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621679501153"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501153"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span id="local-6989586621679501152"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501152"><span class="hs-identifier hs-var">e3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-244"></span><span>    </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span>
</span><span id="line-245"></span><span>      </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>   </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;if&quot;</span></span><span>
</span><span id="line-246"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501154"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-247"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501153"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;else&quot;</span></span><span>
</span><span id="line-249"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501152"><span class="hs-identifier hs-var">e3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#While"><span class="hs-identifier hs-type">While</span></a></span><span> </span><span id="local-6989586621679501151"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501151"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621679501150"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501150"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-251"></span><span>    </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;while&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501151"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501150"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span id="local-6989586621679501149"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501149"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;loop&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501149"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Par"><span class="hs-identifier hs-type">Par</span></a></span><span>  </span><span id="local-6989586621679501148"><span class="annot"><span class="annottext">[Expr]
</span><a href="#local-6989586621679501148"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;par&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; Doc ann) -&gt; [Doc ann] -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Expr -&gt; Doc ann) -&gt; [Expr] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[Expr]
</span><a href="#local-6989586621679501148"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Wait"><span class="hs-identifier hs-type">Wait</span></a></span><span> </span><span id="local-6989586621679501147"><span class="annot"><span class="annottext">[Expr]
</span><a href="#local-6989586621679501147"><span class="hs-identifier hs-var">vars</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;wait&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall ann. Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; [Doc ann]) -&gt; [Doc ann] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Expr -&gt; Doc ann) -&gt; [Expr] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[Expr]
</span><a href="#local-6989586621679501147"><span class="hs-identifier hs-var">vars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Lambda"><span class="hs-identifier hs-type">Lambda</span></a></span><span> </span><span id="local-6989586621679501146"><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621679501146"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679501145"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501145"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-257"></span><span>    </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fun&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Pat -&gt; Doc ann) -&gt; [Pat] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; (Pat -&gt; Doc ann) -&gt; Pat -&gt; Doc ann
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Pat -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Pat]
</span><a href="#local-6989586621679501146"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span>
</span><span id="line-258"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501145"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Apply"><span class="hs-identifier hs-type">Apply</span></a></span><span> </span><span id="local-6989586621679501144"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501144"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621679501143"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501143"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501144"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501143"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-260"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>  </span><span id="local-6989586621679501142"><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501142"><span class="hs-identifier hs-var">i</span></a></span></span><span>      </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Identifier -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501142"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-261"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Lit"><span class="hs-identifier hs-type">Lit</span></a></span><span> </span><span id="local-6989586621679501141"><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621679501141"><span class="hs-identifier hs-var">l</span></a></span></span><span>      </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621679501141"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-262"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="Front.Ast.html#Break"><span class="hs-identifier hs-var">Break</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;break&quot;</span></span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-comment">-- TODO: we should replace every '$$' in s with '$$$$'</span><span>
</span><span id="line-264"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#CQuote"><span class="hs-identifier hs-type">CQuote</span></a></span><span> </span><span id="local-6989586621679501140"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679501140"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;$$&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679501140"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;$$&quot;</span></span><span>
</span><span id="line-265"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#CCall"><span class="hs-identifier hs-type">CCall</span></a></span><span> </span><span id="local-6989586621679501139"><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501139"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679501138"><span class="annot"><span class="annottext">[Expr]
</span><a href="#local-6989586621679501138"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-266"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;$&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Identifier -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Identifier
</span><a href="#local-6989586621679501139"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; Doc ann) -&gt; [Doc ann] -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall ann. Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; [Doc ann]) -&gt; [Doc ann] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Expr -&gt; Doc ann) -&gt; [Expr] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[Expr]
</span><a href="#local-6989586621679501138"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span id="local-6989586621679501137"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501137"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679501136"><span class="annot"><span class="annottext">[(Pat, Expr)]
</span><a href="#local-6989586621679501136"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;match&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679501137"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span>
</span><span id="line-268"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; Doc ann) -&gt; [Doc ann] -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall ann. Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><a href="Common.Pretty.html#bar"><span class="hs-identifier hs-var">bar</span></a></span><span> </span><span class="annot"><span class="annottext">([Doc ann] -&gt; [Doc ann]) -&gt; [Doc ann] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Pat, Expr) -&gt; Doc ann) -&gt; [(Pat, Expr)] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Pat, Expr) -&gt; Doc ann
forall a a ann. (Pretty a, Pretty a) =&gt; (a, a) -&gt; Doc ann
</span><a href="#local-6989586621679501135"><span class="hs-identifier hs-var">prettyPatExprTup</span></a></span><span> </span><span class="annot"><span class="annottext">[(Pat, Expr)]
</span><a href="#local-6989586621679501136"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-270"></span><span>    </span><span id="local-6989586621679501135"><span class="annot"><span class="annottext">prettyPatExprTup :: (a, a) -&gt; Doc ann
</span><a href="#local-6989586621679501135"><span class="hs-identifier hs-var hs-var">prettyPatExprTup</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501134"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501134"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501133"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501133"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501134"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">braces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501133"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="Front.Ast.html#NoExpr"><span class="hs-identifier hs-var">NoExpr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unexpected NoExpr&quot;</span></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501129"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Front.Ast.html#Literal"><span class="hs-identifier hs-type">Literal</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-274"></span><span>  </span><span id="local-6989586621679501128"><span class="annot"><span class="annottext">pretty :: Literal -&gt; Doc ann
</span><a href="#local-6989586621679501128"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#LitInt"><span class="hs-identifier hs-type">LitInt</span></a></span><span>    </span><span id="local-6989586621679501127"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679501127"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679501127"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-275"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#LitString"><span class="hs-identifier hs-type">LitString</span></a></span><span> </span><span id="local-6989586621679501126"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679501126"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">dquotes</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679501126"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-276"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#LitRat"><span class="hs-identifier hs-type">LitRat</span></a></span><span>    </span><span id="local-6989586621679501124"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679501124"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Doc ann) -&gt; String -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679501124"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-277"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Front.Ast.html#LitChar"><span class="hs-identifier hs-type">LitChar</span></a></span><span>   </span><span id="local-6989586621679501122"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679501122"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">squotes</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679501122"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-278"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="Front.Ast.html#LitEvent"><span class="hs-identifier hs-var">LitEvent</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;()&quot;</span></span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Common.Pretty.html#Dumpy"><span class="hs-identifier hs-type">Dumpy</span></a></span><span> </span><span class="annot"><a href="Front.Ast.html#Program"><span class="hs-identifier hs-type">Program</span></a></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-281"></span><span>  </span><span id="local-6989586621679501118"><span class="annot"><span class="annottext">dumpy :: Program -&gt; Doc ann
</span><a href="Common.Pretty.html#dumpy"><span class="hs-identifier hs-var hs-var hs-var hs-var">dumpy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Program -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span>
</span><span id="line-282"></span></pre></body></html>