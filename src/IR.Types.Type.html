<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE PatternSynonyms #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DeriveTraversable #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-comment">-- | Definitions of and related to the sslang IR's type system.</span><span>
</span><span id="line-12"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">IR.Types.Type</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Common.Identifiers.html"><span class="hs-identifier">Common.Identifiers</span></a></span><span>             </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Common.Identifiers.html#DConId"><span class="hs-identifier">DConId</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Common.Identifiers.html#HasFreeVars"><span class="hs-identifier">HasFreeVars</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifiable"><span class="hs-identifier">Identifiable</span></a></span><span>
</span><span id="line-17"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Common.Identifiers.html#TConId"><span class="hs-identifier">TConId</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Common.Identifiers.html#TVarId"><span class="hs-identifier">TVarId</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Common.Identifiers.html#fromId"><span class="hs-identifier">fromId</span></a></span><span>
</span><span id="line-20"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromString</span></span><span>
</span><span id="line-21"></span><span>                                                </span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Common.Pretty.html"><span class="hs-identifier">Common.Pretty</span></a></span><span>                  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-operator">(&lt;+&gt;)</span></span><span>
</span><span id="line-23"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Common.Pretty.html#Dumpy"><span class="hs-identifier">Dumpy</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Pretty</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">pretty</span></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">brackets</span></span><span>
</span><span id="line-26"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">comma</span></span><span>
</span><span id="line-27"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">hsep</span></span><span>
</span><span id="line-28"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">parens</span></span><span>
</span><span id="line-29"></span><span>                                                </span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span>                  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">toList</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Generics</span></span><span>                  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Data</span></span><span>
</span><span id="line-33"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Typeable</span></span><span>
</span><span id="line-34"></span><span>                                                </span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span>                      </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span>                      </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span>                       </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-operator">(\\)</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-comment">{- | Encoding of sslang types.

Structurally speaking, these are very simple. Types are either type variables or
type constructors applied to some other types.

Builtin types (and type constructors) include 'Arrow', 'Unit', 'Ref', 'List',
and various sizes of tuples; for convenience, those are defined elsewhere using
the GHC PatternSynonyms extension.
-}</span><span>
</span><span id="line-49"></span><span class="hs-keyword">data</span><span> </span><span id="Type"><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-var">Type</span></a></span></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TCon"><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-var">TCon</span></a></span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#TConId"><span class="hs-identifier hs-type">TConId</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- ^ Type constructor, applied to zero or more types</span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TVar"><span class="annot"><a href="IR.Types.Type.html#TVar"><span class="hs-identifier hs-var">TVar</span></a></span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#TVarId"><span class="hs-identifier hs-type">TVarId</span></a></span><span>           </span><span class="hs-comment">-- ^ Type variable (may be implicitly quantified)</span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679562036"><span id="local-6989586621679562038"><span class="annot"><span class="annottext">Type -&gt; Type -&gt; Bool
(Type -&gt; Type -&gt; Bool) -&gt; (Type -&gt; Type -&gt; Bool) -&gt; Eq Type
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Type -&gt; Type -&gt; Bool
$c/= :: Type -&gt; Type -&gt; Bool
== :: Type -&gt; Type -&gt; Bool
$c== :: Type -&gt; Type -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679562029"><span id="local-6989586621679562031"><span id="local-6989586621679562033"><span class="annot"><span class="annottext">Int -&gt; Type -&gt; ShowS
[Type] -&gt; ShowS
Type -&gt; String
(Int -&gt; Type -&gt; ShowS)
-&gt; (Type -&gt; String) -&gt; ([Type] -&gt; ShowS) -&gt; Show Type
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Type] -&gt; ShowS
$cshowList :: [Type] -&gt; ShowS
show :: Type -&gt; String
$cshow :: Type -&gt; String
showsPrec :: Int -&gt; Type -&gt; ShowS
$cshowsPrec :: Int -&gt; Type -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="%24cTVar"><span id="%24cTCon"><span id="%24tType"><span id="local-6989586621679561999"><span id="local-6989586621679562001"><span id="local-6989586621679562003"><span id="local-6989586621679562005"><span id="local-6989586621679562007"><span id="local-6989586621679562009"><span id="local-6989586621679562011"><span id="local-6989586621679562013"><span id="local-6989586621679562015"><span id="local-6989586621679562017"><span id="local-6989586621679562019"><span id="local-6989586621679562021"><span id="local-6989586621679562023"><span id="local-6989586621679562025"><span class="annot"><span class="annottext">Typeable Type
DataType
Constr
Typeable Type
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; Type -&gt; c Type)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Type)
-&gt; (Type -&gt; Constr)
-&gt; (Type -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Type))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Type))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; Type -&gt; Type)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Type -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Type -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Type -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Type -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Type -&gt; m Type)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Type -&gt; m Type)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Type -&gt; m Type)
-&gt; Data Type
Type -&gt; DataType
Type -&gt; Constr
(forall b. Data b =&gt; b -&gt; b) -&gt; Type -&gt; Type
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Type -&gt; c Type
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Type
forall a.
Typeable a
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Type -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Type -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Type -&gt; r
forall r r'.
(r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Type -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Type -&gt; m Type
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Type -&gt; m Type
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Type
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Type -&gt; c Type
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Type)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Type)
$cTVar :: Constr
$cTCon :: Constr
$tType :: DataType
gmapMo :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Type -&gt; m Type
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Type -&gt; m Type
gmapMp :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Type -&gt; m Type
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Type -&gt; m Type
gmapM :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Type -&gt; m Type
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Type -&gt; m Type
gmapQi :: Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Type -&gt; u
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Type -&gt; u
gmapQ :: (forall d. Data d =&gt; d -&gt; u) -&gt; Type -&gt; [u]
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Type -&gt; [u]
gmapQr :: (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Type -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Type -&gt; r
gmapQl :: (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Type -&gt; r
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Type -&gt; r
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Type -&gt; Type
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Type -&gt; Type
dataCast2 :: (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Type)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Type)
dataCast1 :: (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Type)
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Type)
dataTypeOf :: Type -&gt; DataType
$cdataTypeOf :: Type -&gt; DataType
toConstr :: Type -&gt; Constr
$ctoConstr :: Type -&gt; Constr
gunfold :: (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Type
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Type
gfoldl :: (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Type -&gt; c Type
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Type -&gt; c Type
$cp1Data :: Typeable Type
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Common.Identifiers.html#HasFreeVars"><span class="hs-identifier hs-type">HasFreeVars</span></a></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="Common.Identifiers.html#TVarId"><span class="hs-identifier hs-type">TVarId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-55"></span><span>  </span><span id="local-6989586621679561991"><span class="annot"><span class="annottext">freeVars :: Type -&gt; Set TVarId
</span><a href="Common.Identifiers.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="annottext">TConId
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679561989"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561989"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Set TVarId] -&gt; Set TVarId
forall (f :: * -&gt; *) a. (Foldable f, Ord a) =&gt; f (Set a) -&gt; Set a
</span><span class="hs-identifier hs-var">S.unions</span></span><span> </span><span class="annot"><span class="annottext">([Set TVarId] -&gt; Set TVarId) -&gt; [Set TVarId] -&gt; Set TVarId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Set TVarId) -&gt; [Type] -&gt; [Set TVarId]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Set TVarId
forall t i. HasFreeVars t i =&gt; t -&gt; Set i
</span><a href="Common.Identifiers.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561989"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="Common.Identifiers.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#Hole"><span class="hs-identifier hs-var">Hole</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set TVarId
forall a. Set a
</span><span class="hs-identifier hs-var">S.empty</span></span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="Common.Identifiers.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#TVar"><span class="hs-identifier hs-type">TVar</span></a></span><span> </span><span id="local-6989586621679561985"><span class="annot"><span class="annottext">TVarId
</span><a href="#local-6989586621679561985"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TVarId -&gt; Set TVarId
forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">S.singleton</span></span><span> </span><span class="annot"><span class="annottext">TVarId
</span><a href="#local-6989586621679561985"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-comment">{- | Constraints on a type scheme.

For now, we only support trivial constraints.
-}</span><span>
</span><span id="line-63"></span><span class="hs-keyword">data</span><span> </span><span id="Constraint"><span class="annot"><a href="IR.Types.Type.html#Constraint"><span class="hs-identifier hs-var">Constraint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CTrue"><span class="annot"><a href="IR.Types.Type.html#CTrue"><span class="hs-identifier hs-var">CTrue</span></a></span></span><span> </span><span class="hs-comment">-- ^ The trivial constraint, i.e., always satisfied.</span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679561979"><span id="local-6989586621679561981"><span class="annot"><span class="annottext">Constraint -&gt; Constraint -&gt; Bool
(Constraint -&gt; Constraint -&gt; Bool)
-&gt; (Constraint -&gt; Constraint -&gt; Bool) -&gt; Eq Constraint
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Constraint -&gt; Constraint -&gt; Bool
$c/= :: Constraint -&gt; Constraint -&gt; Bool
== :: Constraint -&gt; Constraint -&gt; Bool
$c== :: Constraint -&gt; Constraint -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561973"><span id="local-6989586621679561975"><span id="local-6989586621679561977"><span class="annot"><span class="annottext">Int -&gt; Constraint -&gt; ShowS
[Constraint] -&gt; ShowS
Constraint -&gt; String
(Int -&gt; Constraint -&gt; ShowS)
-&gt; (Constraint -&gt; String)
-&gt; ([Constraint] -&gt; ShowS)
-&gt; Show Constraint
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Constraint] -&gt; ShowS
$cshowList :: [Constraint] -&gt; ShowS
show :: Constraint -&gt; String
$cshow :: Constraint -&gt; String
showsPrec :: Int -&gt; Constraint -&gt; ShowS
$cshowsPrec :: Int -&gt; Constraint -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="%24cCTrue"><span id="%24tConstraint"><span id="local-6989586621679561944"><span id="local-6989586621679561946"><span id="local-6989586621679561948"><span id="local-6989586621679561950"><span id="local-6989586621679561952"><span id="local-6989586621679561954"><span id="local-6989586621679561956"><span id="local-6989586621679561958"><span id="local-6989586621679561960"><span id="local-6989586621679561962"><span id="local-6989586621679561964"><span id="local-6989586621679561966"><span id="local-6989586621679561968"><span id="local-6989586621679561970"><span class="annot"><span class="annottext">Typeable Constraint
DataType
Constr
Typeable Constraint
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; Constraint -&gt; c Constraint)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Constraint)
-&gt; (Constraint -&gt; Constr)
-&gt; (Constraint -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Constraint))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c Constraint))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; Constraint -&gt; Constraint)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Constraint -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Constraint -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Constraint -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Constraint -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Constraint -&gt; m Constraint)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Constraint -&gt; m Constraint)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Constraint -&gt; m Constraint)
-&gt; Data Constraint
Constraint -&gt; DataType
Constraint -&gt; Constr
(forall b. Data b =&gt; b -&gt; b) -&gt; Constraint -&gt; Constraint
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Constraint -&gt; c Constraint
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Constraint
forall a.
Typeable a
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Constraint -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Constraint -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Constraint -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Constraint -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Constraint -&gt; m Constraint
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Constraint -&gt; m Constraint
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Constraint
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Constraint -&gt; c Constraint
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Constraint)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Constraint)
$cCTrue :: Constr
$tConstraint :: DataType
gmapMo :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Constraint -&gt; m Constraint
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Constraint -&gt; m Constraint
gmapMp :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Constraint -&gt; m Constraint
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Constraint -&gt; m Constraint
gmapM :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Constraint -&gt; m Constraint
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Constraint -&gt; m Constraint
gmapQi :: Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Constraint -&gt; u
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Constraint -&gt; u
gmapQ :: (forall d. Data d =&gt; d -&gt; u) -&gt; Constraint -&gt; [u]
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Constraint -&gt; [u]
gmapQr :: (r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Constraint -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Constraint -&gt; r
gmapQl :: (r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Constraint -&gt; r
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Constraint -&gt; r
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Constraint -&gt; Constraint
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Constraint -&gt; Constraint
dataCast2 :: (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Constraint)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Constraint)
dataCast1 :: (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Constraint)
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Constraint)
dataTypeOf :: Constraint -&gt; DataType
$cdataTypeOf :: Constraint -&gt; DataType
toConstr :: Constraint -&gt; Constr
$ctoConstr :: Constraint -&gt; Constr
gunfold :: (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Constraint
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Constraint
gfoldl :: (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Constraint -&gt; c Constraint
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Constraint -&gt; c Constraint
$cp1Data :: Typeable Constraint
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-comment">{- | Schemes quantify over 'Type' variables and impose some 'Constraint'.

'SchemeOf' is implemented as functor over some kind of type so we can easily
substitute in 'Type' vs 'UType' when performing type inference/unification.
-}</span><span>
</span><span id="line-71"></span><span class="hs-keyword">data</span><span> </span><span id="SchemeOf"><span class="annot"><a href="IR.Types.Type.html#SchemeOf"><span class="hs-identifier hs-var">SchemeOf</span></a></span></span><span> </span><span id="local-6989586621679562175"><span class="annot"><a href="#local-6989586621679562175"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Forall"><span class="annot"><a href="IR.Types.Type.html#Forall"><span class="hs-identifier hs-var">Forall</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S.Set</span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#TVarId"><span class="hs-identifier hs-type">TVarId</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Constraint"><span class="hs-identifier hs-type">Constraint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679562175"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679561937"><span id="local-6989586621679561939"><span class="annot"><span class="annottext">SchemeOf t -&gt; SchemeOf t -&gt; Bool
(SchemeOf t -&gt; SchemeOf t -&gt; Bool)
-&gt; (SchemeOf t -&gt; SchemeOf t -&gt; Bool) -&gt; Eq (SchemeOf t)
forall t. Eq t =&gt; SchemeOf t -&gt; SchemeOf t -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SchemeOf t -&gt; SchemeOf t -&gt; Bool
$c/= :: forall t. Eq t =&gt; SchemeOf t -&gt; SchemeOf t -&gt; Bool
== :: SchemeOf t -&gt; SchemeOf t -&gt; Bool
$c== :: forall t. Eq t =&gt; SchemeOf t -&gt; SchemeOf t -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561931"><span id="local-6989586621679561933"><span id="local-6989586621679561935"><span class="annot"><span class="annottext">Int -&gt; SchemeOf t -&gt; ShowS
[SchemeOf t] -&gt; ShowS
SchemeOf t -&gt; String
(Int -&gt; SchemeOf t -&gt; ShowS)
-&gt; (SchemeOf t -&gt; String)
-&gt; ([SchemeOf t] -&gt; ShowS)
-&gt; Show (SchemeOf t)
forall t. Show t =&gt; Int -&gt; SchemeOf t -&gt; ShowS
forall t. Show t =&gt; [SchemeOf t] -&gt; ShowS
forall t. Show t =&gt; SchemeOf t -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SchemeOf t] -&gt; ShowS
$cshowList :: forall t. Show t =&gt; [SchemeOf t] -&gt; ShowS
show :: SchemeOf t -&gt; String
$cshow :: forall t. Show t =&gt; SchemeOf t -&gt; String
showsPrec :: Int -&gt; SchemeOf t -&gt; ShowS
$cshowsPrec :: forall t. Show t =&gt; Int -&gt; SchemeOf t -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561927"><span id="local-6989586621679561929"><span class="annot"><span class="annottext">a -&gt; SchemeOf b -&gt; SchemeOf a
(a -&gt; b) -&gt; SchemeOf a -&gt; SchemeOf b
(forall a b. (a -&gt; b) -&gt; SchemeOf a -&gt; SchemeOf b)
-&gt; (forall a b. a -&gt; SchemeOf b -&gt; SchemeOf a) -&gt; Functor SchemeOf
forall a b. a -&gt; SchemeOf b -&gt; SchemeOf a
forall a b. (a -&gt; b) -&gt; SchemeOf a -&gt; SchemeOf b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; SchemeOf b -&gt; SchemeOf a
$c&lt;$ :: forall a b. a -&gt; SchemeOf b -&gt; SchemeOf a
fmap :: (a -&gt; b) -&gt; SchemeOf a -&gt; SchemeOf b
$cfmap :: forall a b. (a -&gt; b) -&gt; SchemeOf a -&gt; SchemeOf b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561892"><span id="local-6989586621679561894"><span id="local-6989586621679561896"><span id="local-6989586621679561898"><span id="local-6989586621679561900"><span id="local-6989586621679561902"><span id="local-6989586621679561904"><span id="local-6989586621679561906"><span id="local-6989586621679561908"><span id="local-6989586621679561910"><span id="local-6989586621679561912"><span id="local-6989586621679561914"><span id="local-6989586621679561916"><span id="local-6989586621679561918"><span id="local-6989586621679561920"><span id="local-6989586621679561922"><span id="local-6989586621679561924"><span class="annot"><span class="annottext">SchemeOf a -&gt; Bool
(a -&gt; m) -&gt; SchemeOf a -&gt; m
(a -&gt; b -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b
(forall m. Monoid m =&gt; SchemeOf m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; SchemeOf a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; SchemeOf a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; SchemeOf a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; SchemeOf a -&gt; a)
-&gt; (forall a. SchemeOf a -&gt; [a])
-&gt; (forall a. SchemeOf a -&gt; Bool)
-&gt; (forall a. SchemeOf a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; SchemeOf a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; SchemeOf a -&gt; a)
-&gt; (forall a. Ord a =&gt; SchemeOf a -&gt; a)
-&gt; (forall a. Num a =&gt; SchemeOf a -&gt; a)
-&gt; (forall a. Num a =&gt; SchemeOf a -&gt; a)
-&gt; Foldable SchemeOf
forall a. Eq a =&gt; a -&gt; SchemeOf a -&gt; Bool
forall a. Num a =&gt; SchemeOf a -&gt; a
forall a. Ord a =&gt; SchemeOf a -&gt; a
forall m. Monoid m =&gt; SchemeOf m -&gt; m
forall a. SchemeOf a -&gt; Bool
forall a. SchemeOf a -&gt; Int
forall a. SchemeOf a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; SchemeOf a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; SchemeOf a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
product :: SchemeOf a -&gt; a
$cproduct :: forall a. Num a =&gt; SchemeOf a -&gt; a
sum :: SchemeOf a -&gt; a
$csum :: forall a. Num a =&gt; SchemeOf a -&gt; a
minimum :: SchemeOf a -&gt; a
$cminimum :: forall a. Ord a =&gt; SchemeOf a -&gt; a
maximum :: SchemeOf a -&gt; a
$cmaximum :: forall a. Ord a =&gt; SchemeOf a -&gt; a
elem :: a -&gt; SchemeOf a -&gt; Bool
$celem :: forall a. Eq a =&gt; a -&gt; SchemeOf a -&gt; Bool
length :: SchemeOf a -&gt; Int
$clength :: forall a. SchemeOf a -&gt; Int
null :: SchemeOf a -&gt; Bool
$cnull :: forall a. SchemeOf a -&gt; Bool
toList :: SchemeOf a -&gt; [a]
$ctoList :: forall a. SchemeOf a -&gt; [a]
foldl1 :: (a -&gt; a -&gt; a) -&gt; SchemeOf a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; SchemeOf a -&gt; a
foldr1 :: (a -&gt; a -&gt; a) -&gt; SchemeOf a -&gt; a
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; SchemeOf a -&gt; a
foldl' :: (b -&gt; a -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b
foldl :: (b -&gt; a -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b
foldr' :: (a -&gt; b -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b
foldr :: (a -&gt; b -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; SchemeOf a -&gt; b
foldMap' :: (a -&gt; m) -&gt; SchemeOf a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; SchemeOf a -&gt; m
foldMap :: (a -&gt; m) -&gt; SchemeOf a -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; SchemeOf a -&gt; m
fold :: SchemeOf m -&gt; m
$cfold :: forall m. Monoid m =&gt; SchemeOf m -&gt; m
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561881"><span id="local-6989586621679561883"><span id="local-6989586621679561885"><span id="local-6989586621679561887"><span class="annot"><span class="annottext">Functor SchemeOf
Foldable SchemeOf
Functor SchemeOf
-&gt; Foldable SchemeOf
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; SchemeOf a -&gt; f (SchemeOf b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    SchemeOf (f a) -&gt; f (SchemeOf a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; SchemeOf a -&gt; m (SchemeOf b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    SchemeOf (m a) -&gt; m (SchemeOf a))
-&gt; Traversable SchemeOf
(a -&gt; f b) -&gt; SchemeOf a -&gt; f (SchemeOf b)
forall (t :: * -&gt; *).
Functor t
-&gt; Foldable t
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a. Monad m =&gt; SchemeOf (m a) -&gt; m (SchemeOf a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
SchemeOf (f a) -&gt; f (SchemeOf a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; SchemeOf a -&gt; m (SchemeOf b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; SchemeOf a -&gt; f (SchemeOf b)
sequence :: SchemeOf (m a) -&gt; m (SchemeOf a)
$csequence :: forall (m :: * -&gt; *) a. Monad m =&gt; SchemeOf (m a) -&gt; m (SchemeOf a)
mapM :: (a -&gt; m b) -&gt; SchemeOf a -&gt; m (SchemeOf b)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; SchemeOf a -&gt; m (SchemeOf b)
sequenceA :: SchemeOf (f a) -&gt; f (SchemeOf a)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
SchemeOf (f a) -&gt; f (SchemeOf a)
traverse :: (a -&gt; f b) -&gt; SchemeOf a -&gt; f (SchemeOf b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; SchemeOf a -&gt; f (SchemeOf b)
$cp2Traversable :: Foldable SchemeOf
$cp1Traversable :: Functor SchemeOf
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="%24cForall"><span id="%24tSchemeOf"><span id="local-6989586621679561851"><span id="local-6989586621679561853"><span id="local-6989586621679561855"><span id="local-6989586621679561857"><span id="local-6989586621679561859"><span id="local-6989586621679561861"><span id="local-6989586621679561863"><span id="local-6989586621679561865"><span id="local-6989586621679561867"><span id="local-6989586621679561869"><span id="local-6989586621679561871"><span id="local-6989586621679561873"><span id="local-6989586621679561875"><span id="local-6989586621679561877"><span class="annot"><span class="annottext">Typeable (SchemeOf t)
DataType
Constr
Typeable (SchemeOf t)
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; SchemeOf t -&gt; c (SchemeOf t))
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (SchemeOf t))
-&gt; (SchemeOf t -&gt; Constr)
-&gt; (SchemeOf t -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (SchemeOf t)))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c (SchemeOf t)))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; SchemeOf t -&gt; SchemeOf t)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; SchemeOf t -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; SchemeOf t -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; SchemeOf t -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; SchemeOf t -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; SchemeOf t -&gt; m (SchemeOf t))
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; SchemeOf t -&gt; m (SchemeOf t))
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; SchemeOf t -&gt; m (SchemeOf t))
-&gt; Data (SchemeOf t)
SchemeOf t -&gt; DataType
SchemeOf t -&gt; Constr
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (SchemeOf t))
(forall b. Data b =&gt; b -&gt; b) -&gt; SchemeOf t -&gt; SchemeOf t
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; SchemeOf t -&gt; c (SchemeOf t)
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (SchemeOf t)
forall t. Data t =&gt; Typeable (SchemeOf t)
forall t. Data t =&gt; SchemeOf t -&gt; DataType
forall t. Data t =&gt; SchemeOf t -&gt; Constr
forall t.
Data t =&gt;
(forall b. Data b =&gt; b -&gt; b) -&gt; SchemeOf t -&gt; SchemeOf t
forall t u.
Data t =&gt;
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; SchemeOf t -&gt; u
forall t u.
Data t =&gt;
(forall d. Data d =&gt; d -&gt; u) -&gt; SchemeOf t -&gt; [u]
forall t r r'.
Data t =&gt;
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; SchemeOf t -&gt; r
forall t r r'.
Data t =&gt;
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; SchemeOf t -&gt; r
forall t (m :: * -&gt; *).
(Data t, Monad m) =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; SchemeOf t -&gt; m (SchemeOf t)
forall t (m :: * -&gt; *).
(Data t, MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; SchemeOf t -&gt; m (SchemeOf t)
forall t (c :: * -&gt; *).
Data t =&gt;
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (SchemeOf t)
forall t (c :: * -&gt; *).
Data t =&gt;
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; SchemeOf t -&gt; c (SchemeOf t)
forall t (t :: * -&gt; *) (c :: * -&gt; *).
(Data t, Typeable t) =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (SchemeOf t))
forall t (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
(Data t, Typeable t) =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (SchemeOf t))
forall a.
Typeable a
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; SchemeOf t -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; SchemeOf t -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; SchemeOf t -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; SchemeOf t -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; SchemeOf t -&gt; m (SchemeOf t)
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; SchemeOf t -&gt; m (SchemeOf t)
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (SchemeOf t)
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; SchemeOf t -&gt; c (SchemeOf t)
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (SchemeOf t))
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (SchemeOf t))
$cForall :: Constr
$tSchemeOf :: DataType
gmapMo :: (forall d. Data d =&gt; d -&gt; m d) -&gt; SchemeOf t -&gt; m (SchemeOf t)
$cgmapMo :: forall t (m :: * -&gt; *).
(Data t, MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; SchemeOf t -&gt; m (SchemeOf t)
gmapMp :: (forall d. Data d =&gt; d -&gt; m d) -&gt; SchemeOf t -&gt; m (SchemeOf t)
$cgmapMp :: forall t (m :: * -&gt; *).
(Data t, MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; SchemeOf t -&gt; m (SchemeOf t)
gmapM :: (forall d. Data d =&gt; d -&gt; m d) -&gt; SchemeOf t -&gt; m (SchemeOf t)
$cgmapM :: forall t (m :: * -&gt; *).
(Data t, Monad m) =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; SchemeOf t -&gt; m (SchemeOf t)
gmapQi :: Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; SchemeOf t -&gt; u
$cgmapQi :: forall t u.
Data t =&gt;
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; SchemeOf t -&gt; u
gmapQ :: (forall d. Data d =&gt; d -&gt; u) -&gt; SchemeOf t -&gt; [u]
$cgmapQ :: forall t u.
Data t =&gt;
(forall d. Data d =&gt; d -&gt; u) -&gt; SchemeOf t -&gt; [u]
gmapQr :: (r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; SchemeOf t -&gt; r
$cgmapQr :: forall t r r'.
Data t =&gt;
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; SchemeOf t -&gt; r
gmapQl :: (r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; SchemeOf t -&gt; r
$cgmapQl :: forall t r r'.
Data t =&gt;
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; SchemeOf t -&gt; r
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; SchemeOf t -&gt; SchemeOf t
$cgmapT :: forall t.
Data t =&gt;
(forall b. Data b =&gt; b -&gt; b) -&gt; SchemeOf t -&gt; SchemeOf t
dataCast2 :: (forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (SchemeOf t))
$cdataCast2 :: forall t (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
(Data t, Typeable t) =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (SchemeOf t))
dataCast1 :: (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (SchemeOf t))
$cdataCast1 :: forall t (t :: * -&gt; *) (c :: * -&gt; *).
(Data t, Typeable t) =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (SchemeOf t))
dataTypeOf :: SchemeOf t -&gt; DataType
$cdataTypeOf :: forall t. Data t =&gt; SchemeOf t -&gt; DataType
toConstr :: SchemeOf t -&gt; Constr
$ctoConstr :: forall t. Data t =&gt; SchemeOf t -&gt; Constr
gunfold :: (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (SchemeOf t)
$cgunfold :: forall t (c :: * -&gt; *).
Data t =&gt;
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (SchemeOf t)
gfoldl :: (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; SchemeOf t -&gt; c (SchemeOf t)
$cgfoldl :: forall t (c :: * -&gt; *).
Data t =&gt;
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; SchemeOf t -&gt; c (SchemeOf t)
$cp1Data :: forall t. Data t =&gt; Typeable (SchemeOf t)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-comment">-- | Unwrap a scheme and obtain the underlying type.</span><span>
</span><span id="line-75"></span><span id="local-6989586621679561848"><span class="annot"><a href="IR.Types.Type.html#unScheme"><span class="hs-identifier hs-type">unScheme</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#SchemeOf"><span class="hs-identifier hs-type">SchemeOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679561848"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679561848"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-76"></span><span id="unScheme"><span class="annot"><span class="annottext">unScheme :: SchemeOf t -&gt; t
</span><a href="IR.Types.Type.html#unScheme"><span class="hs-identifier hs-var hs-var">unScheme</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="annot"><span class="annottext">Set TVarId
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Constraint
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679561846"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679561846"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679561846"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-comment">-- | Construct a scheme with quantified type variables and a trivial constraint.</span><span>
</span><span id="line-79"></span><span id="local-6989586621679562169"><span id="local-6989586621679562170"><span class="annot"><a href="IR.Types.Type.html#forall"><span class="hs-keyword hs-type">forall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679562170"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679562170"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679562170"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Common.Identifiers.html#TVarId"><span class="hs-identifier hs-type">TVarId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679562169"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="IR.Types.Type.html#SchemeOf"><span class="hs-identifier hs-type">SchemeOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679562169"><span class="hs-identifier hs-type">t</span></a></span></span></span><span>
</span><span id="line-80"></span><span id="forall"><span class="annot"><span class="annottext">forall :: l TVarId -&gt; t -&gt; SchemeOf t
</span><a href="IR.Types.Type.html#forall"><span class="hs-keyword hs-var hs-var">forall</span></a></span></span><span> </span><span id="local-6989586621679561844"><span class="annot"><span class="annottext">l TVarId
</span><a href="#local-6989586621679561844"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set TVarId -&gt; Constraint -&gt; t -&gt; SchemeOf t
forall t. Set TVarId -&gt; Constraint -&gt; t -&gt; SchemeOf t
</span><a href="IR.Types.Type.html#Forall"><span class="hs-identifier hs-var">Forall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TVarId] -&gt; Set TVarId
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">S.fromList</span></span><span> </span><span class="annot"><span class="annottext">([TVarId] -&gt; Set TVarId) -&gt; [TVarId] -&gt; Set TVarId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">l TVarId -&gt; [TVarId]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">toList</span></span><span> </span><span class="annot"><span class="annottext">(l TVarId -&gt; [TVarId]) -&gt; l TVarId -&gt; [TVarId]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(TVarId -&gt; TVarId) -&gt; l TVarId -&gt; l TVarId
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">TVarId -&gt; TVarId
forall a b. (Identifiable a, Identifiable b) =&gt; a -&gt; b
</span><a href="Common.Identifiers.html#fromId"><span class="hs-identifier hs-var">fromId</span></a></span><span> </span><span class="annot"><span class="annottext">l TVarId
</span><a href="#local-6989586621679561844"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Constraint
</span><a href="IR.Types.Type.html#CTrue"><span class="hs-identifier hs-var">CTrue</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-comment">-- | Construct a scheme from all free type variables and a trivial constraint.</span><span>
</span><span id="line-83"></span><span class="annot"><a href="IR.Types.Type.html#schemeOf"><span class="hs-identifier hs-type">schemeOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Scheme"><span class="hs-identifier hs-type">Scheme</span></a></span><span>
</span><span id="line-84"></span><span id="schemeOf"><span class="annot"><span class="annottext">schemeOf :: Type -&gt; Scheme
</span><a href="IR.Types.Type.html#schemeOf"><span class="hs-identifier hs-var hs-var">schemeOf</span></a></span></span><span> </span><span id="local-6989586621679561841"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561841"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SchemeOf Type -&gt; Scheme
</span><a href="IR.Types.Type.html#Scheme"><span class="hs-identifier hs-var">Scheme</span></a></span><span> </span><span class="annot"><span class="annottext">(SchemeOf Type -&gt; Scheme) -&gt; SchemeOf Type -&gt; Scheme
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TVarId] -&gt; Type -&gt; SchemeOf Type
forall (l :: * -&gt; *) t.
(Functor l, Foldable l) =&gt;
l TVarId -&gt; t -&gt; SchemeOf t
</span><a href="IR.Types.Type.html#forall"><span class="hs-keyword hs-var">forall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set TVarId -&gt; [TVarId]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">(Set TVarId -&gt; [TVarId]) -&gt; Set TVarId -&gt; [TVarId]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Set TVarId
forall t i. HasFreeVars t i =&gt; t -&gt; Set i
</span><a href="Common.Identifiers.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561841"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561841"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-comment">-- | Schemes over 'Type'.</span><span>
</span><span id="line-87"></span><span class="hs-keyword">newtype</span><span> </span><span id="Scheme"><span class="annot"><a href="IR.Types.Type.html#Scheme"><span class="hs-identifier hs-var">Scheme</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Scheme"><span class="annot"><a href="IR.Types.Type.html#Scheme"><span class="hs-identifier hs-var">Scheme</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#SchemeOf"><span class="hs-identifier hs-type">SchemeOf</span></a></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679561835"><span id="local-6989586621679561837"><span class="annot"><span class="annottext">Scheme -&gt; Scheme -&gt; Bool
(Scheme -&gt; Scheme -&gt; Bool)
-&gt; (Scheme -&gt; Scheme -&gt; Bool) -&gt; Eq Scheme
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Scheme -&gt; Scheme -&gt; Bool
$c/= :: Scheme -&gt; Scheme -&gt; Bool
== :: Scheme -&gt; Scheme -&gt; Bool
$c== :: Scheme -&gt; Scheme -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561829"><span id="local-6989586621679561831"><span id="local-6989586621679561833"><span class="annot"><span class="annottext">Int -&gt; Scheme -&gt; ShowS
[Scheme] -&gt; ShowS
Scheme -&gt; String
(Int -&gt; Scheme -&gt; ShowS)
-&gt; (Scheme -&gt; String) -&gt; ([Scheme] -&gt; ShowS) -&gt; Show Scheme
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Scheme] -&gt; ShowS
$cshowList :: [Scheme] -&gt; ShowS
show :: Scheme -&gt; String
$cshow :: Scheme -&gt; String
showsPrec :: Int -&gt; Scheme -&gt; ShowS
$cshowsPrec :: Int -&gt; Scheme -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="%24cScheme"><span id="%24tScheme"><span id="local-6989586621679561800"><span id="local-6989586621679561802"><span id="local-6989586621679561804"><span id="local-6989586621679561806"><span id="local-6989586621679561808"><span id="local-6989586621679561810"><span id="local-6989586621679561812"><span id="local-6989586621679561814"><span id="local-6989586621679561816"><span id="local-6989586621679561818"><span id="local-6989586621679561820"><span id="local-6989586621679561822"><span id="local-6989586621679561824"><span id="local-6989586621679561826"><span class="annot"><span class="annottext">Typeable Scheme
DataType
Constr
Typeable Scheme
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; Scheme -&gt; c Scheme)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Scheme)
-&gt; (Scheme -&gt; Constr)
-&gt; (Scheme -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Scheme))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Scheme))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; Scheme -&gt; Scheme)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Scheme -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Scheme -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Scheme -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Scheme -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Scheme -&gt; m Scheme)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Scheme -&gt; m Scheme)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Scheme -&gt; m Scheme)
-&gt; Data Scheme
Scheme -&gt; DataType
Scheme -&gt; Constr
(forall b. Data b =&gt; b -&gt; b) -&gt; Scheme -&gt; Scheme
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Scheme -&gt; c Scheme
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Scheme
forall a.
Typeable a
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Scheme -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Scheme -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Scheme -&gt; r
forall r r'.
(r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Scheme -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Scheme -&gt; m Scheme
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Scheme -&gt; m Scheme
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Scheme
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Scheme -&gt; c Scheme
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Scheme)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Scheme)
$cScheme :: Constr
$tScheme :: DataType
gmapMo :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Scheme -&gt; m Scheme
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Scheme -&gt; m Scheme
gmapMp :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Scheme -&gt; m Scheme
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Scheme -&gt; m Scheme
gmapM :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Scheme -&gt; m Scheme
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Scheme -&gt; m Scheme
gmapQi :: Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Scheme -&gt; u
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Scheme -&gt; u
gmapQ :: (forall d. Data d =&gt; d -&gt; u) -&gt; Scheme -&gt; [u]
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Scheme -&gt; [u]
gmapQr :: (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Scheme -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Scheme -&gt; r
gmapQl :: (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Scheme -&gt; r
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Scheme -&gt; r
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Scheme -&gt; Scheme
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Scheme -&gt; Scheme
dataCast2 :: (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Scheme)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Scheme)
dataCast1 :: (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Scheme)
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Scheme)
dataTypeOf :: Scheme -&gt; DataType
$cdataTypeOf :: Scheme -&gt; DataType
toConstr :: Scheme -&gt; Constr
$ctoConstr :: Scheme -&gt; Constr
gunfold :: (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Scheme
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Scheme
gfoldl :: (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Scheme -&gt; c Scheme
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Scheme -&gt; c Scheme
$cp1Data :: Typeable Scheme
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Common.Identifiers.html#HasFreeVars"><span class="hs-identifier hs-type">HasFreeVars</span></a></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Scheme"><span class="hs-identifier hs-type">Scheme</span></a></span><span> </span><span class="annot"><a href="Common.Identifiers.html#TVarId"><span class="hs-identifier hs-type">TVarId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-91"></span><span>  </span><span id="local-6989586621679561795"><span class="annot"><span class="annottext">freeVars :: Scheme -&gt; Set TVarId
</span><a href="#local-6989586621679561795"><span class="hs-identifier hs-var hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#Scheme"><span class="hs-identifier hs-type">Scheme</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span id="local-6989586621679561794"><span class="annot"><span class="annottext">Set TVarId
</span><a href="#local-6989586621679561794"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="annot"><span class="annottext">Constraint
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679561793"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561793"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Set TVarId
forall t i. HasFreeVars t i =&gt; t -&gt; Set i
</span><a href="Common.Identifiers.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561793"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Set TVarId -&gt; Set TVarId -&gt; Set TVarId
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-operator hs-var">\\</span></span><span> </span><span class="annot"><span class="annottext">Set TVarId
</span><a href="#local-6989586621679561794"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span class="hs-comment">-- | An annotation records the annotated portion of a pattern.</span><span>
</span><span id="line-94"></span><span class="hs-keyword">data</span><span> </span><span id="Annotation"><span class="annot"><a href="IR.Types.Type.html#Annotation"><span class="hs-identifier hs-var">Annotation</span></a></span></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="AnnType"><span class="annot"><a href="IR.Types.Type.html#AnnType"><span class="hs-identifier hs-var">AnnType</span></a></span></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>                        </span><span class="hs-comment">-- ^ A basic 'Type' annotation</span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AnnDCon"><span class="annot"><a href="IR.Types.Type.html#AnnDCon"><span class="hs-identifier hs-var">AnnDCon</span></a></span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#DConId"><span class="hs-identifier hs-type">DConId</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="IR.Types.Type.html#Annotation"><span class="hs-identifier hs-type">Annotation</span></a></span><span class="hs-special">]</span><span>         </span><span class="hs-comment">-- ^ Annotations collected from patterns</span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AnnArrows"><span class="annot"><a href="IR.Types.Type.html#AnnArrows"><span class="hs-identifier hs-var">AnnArrows</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="IR.Types.Type.html#Annotation"><span class="hs-identifier hs-type">Annotation</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Annotation"><span class="hs-identifier hs-type">Annotation</span></a></span><span>   </span><span class="hs-comment">-- ^ Annotations collected from fun args</span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679561786"><span id="local-6989586621679561788"><span class="annot"><span class="annottext">Annotation -&gt; Annotation -&gt; Bool
(Annotation -&gt; Annotation -&gt; Bool)
-&gt; (Annotation -&gt; Annotation -&gt; Bool) -&gt; Eq Annotation
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Annotation -&gt; Annotation -&gt; Bool
$c/= :: Annotation -&gt; Annotation -&gt; Bool
== :: Annotation -&gt; Annotation -&gt; Bool
$c== :: Annotation -&gt; Annotation -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561780"><span id="local-6989586621679561782"><span id="local-6989586621679561784"><span class="annot"><span class="annottext">Int -&gt; Annotation -&gt; ShowS
[Annotation] -&gt; ShowS
Annotation -&gt; String
(Int -&gt; Annotation -&gt; ShowS)
-&gt; (Annotation -&gt; String)
-&gt; ([Annotation] -&gt; ShowS)
-&gt; Show Annotation
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Annotation] -&gt; ShowS
$cshowList :: [Annotation] -&gt; ShowS
show :: Annotation -&gt; String
$cshow :: Annotation -&gt; String
showsPrec :: Int -&gt; Annotation -&gt; ShowS
$cshowsPrec :: Int -&gt; Annotation -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="%24cAnnArrows"><span id="%24cAnnDCon"><span id="%24cAnnType"><span id="%24tAnnotation"><span id="local-6989586621679561751"><span id="local-6989586621679561753"><span id="local-6989586621679561755"><span id="local-6989586621679561757"><span id="local-6989586621679561759"><span id="local-6989586621679561761"><span id="local-6989586621679561763"><span id="local-6989586621679561765"><span id="local-6989586621679561767"><span id="local-6989586621679561769"><span id="local-6989586621679561771"><span id="local-6989586621679561773"><span id="local-6989586621679561775"><span id="local-6989586621679561777"><span class="annot"><span class="annottext">Typeable Annotation
DataType
Constr
Typeable Annotation
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; Annotation -&gt; c Annotation)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Annotation)
-&gt; (Annotation -&gt; Constr)
-&gt; (Annotation -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Annotation))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c Annotation))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; Annotation -&gt; Annotation)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotation -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotation -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Annotation -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Annotation -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Annotation -&gt; m Annotation)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Annotation -&gt; m Annotation)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Annotation -&gt; m Annotation)
-&gt; Data Annotation
Annotation -&gt; DataType
Annotation -&gt; Constr
(forall b. Data b =&gt; b -&gt; b) -&gt; Annotation -&gt; Annotation
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Annotation -&gt; c Annotation
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Annotation
forall a.
Typeable a
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Annotation -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Annotation -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotation -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotation -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Annotation -&gt; m Annotation
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Annotation -&gt; m Annotation
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Annotation
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Annotation -&gt; c Annotation
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Annotation)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Annotation)
$cAnnArrows :: Constr
$cAnnDCon :: Constr
$cAnnType :: Constr
$tAnnotation :: DataType
gmapMo :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Annotation -&gt; m Annotation
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Annotation -&gt; m Annotation
gmapMp :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Annotation -&gt; m Annotation
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Annotation -&gt; m Annotation
gmapM :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Annotation -&gt; m Annotation
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Annotation -&gt; m Annotation
gmapQi :: Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Annotation -&gt; u
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Annotation -&gt; u
gmapQ :: (forall d. Data d =&gt; d -&gt; u) -&gt; Annotation -&gt; [u]
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Annotation -&gt; [u]
gmapQr :: (r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotation -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotation -&gt; r
gmapQl :: (r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotation -&gt; r
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotation -&gt; r
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Annotation -&gt; Annotation
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Annotation -&gt; Annotation
dataCast2 :: (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Annotation)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Annotation)
dataCast1 :: (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Annotation)
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Annotation)
dataTypeOf :: Annotation -&gt; DataType
$cdataTypeOf :: Annotation -&gt; DataType
toConstr :: Annotation -&gt; Constr
$ctoConstr :: Annotation -&gt; Constr
gunfold :: (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Annotation
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Annotation
gfoldl :: (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Annotation -&gt; c Annotation
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Annotation -&gt; c Annotation
$cp1Data :: Typeable Annotation
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-comment">-- | Expressions are annotated with a (potentially empty) list of 'Annotation'.</span><span>
</span><span id="line-101"></span><span class="hs-keyword">newtype</span><span> </span><span id="Annotations"><span class="annot"><a href="IR.Types.Type.html#Annotations"><span class="hs-identifier hs-var">Annotations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Annotations"><span class="annot"><a href="IR.Types.Type.html#Annotations"><span class="hs-identifier hs-var">Annotations</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="IR.Types.Type.html#Annotation"><span class="hs-identifier hs-type">Annotation</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679561742"><span id="local-6989586621679561744"><span class="annot"><span class="annottext">Annotations -&gt; Annotations -&gt; Bool
(Annotations -&gt; Annotations -&gt; Bool)
-&gt; (Annotations -&gt; Annotations -&gt; Bool) -&gt; Eq Annotations
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Annotations -&gt; Annotations -&gt; Bool
$c/= :: Annotations -&gt; Annotations -&gt; Bool
== :: Annotations -&gt; Annotations -&gt; Bool
$c== :: Annotations -&gt; Annotations -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561736"><span id="local-6989586621679561738"><span id="local-6989586621679561740"><span class="annot"><span class="annottext">Int -&gt; Annotations -&gt; ShowS
[Annotations] -&gt; ShowS
Annotations -&gt; String
(Int -&gt; Annotations -&gt; ShowS)
-&gt; (Annotations -&gt; String)
-&gt; ([Annotations] -&gt; ShowS)
-&gt; Show Annotations
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Annotations] -&gt; ShowS
$cshowList :: [Annotations] -&gt; ShowS
show :: Annotations -&gt; String
$cshow :: Annotations -&gt; String
showsPrec :: Int -&gt; Annotations -&gt; ShowS
$cshowsPrec :: Int -&gt; Annotations -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="%24cAnnotations"><span id="%24tAnnotations"><span id="local-6989586621679561707"><span id="local-6989586621679561709"><span id="local-6989586621679561711"><span id="local-6989586621679561713"><span id="local-6989586621679561715"><span id="local-6989586621679561717"><span id="local-6989586621679561719"><span id="local-6989586621679561721"><span id="local-6989586621679561723"><span id="local-6989586621679561725"><span id="local-6989586621679561727"><span id="local-6989586621679561729"><span id="local-6989586621679561731"><span id="local-6989586621679561733"><span class="annot"><span class="annottext">Typeable Annotations
DataType
Constr
Typeable Annotations
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; Annotations -&gt; c Annotations)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Annotations)
-&gt; (Annotations -&gt; Constr)
-&gt; (Annotations -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Annotations))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c Annotations))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; Annotations -&gt; Annotations)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotations -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotations -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Annotations -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Annotations -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Annotations -&gt; m Annotations)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Annotations -&gt; m Annotations)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Annotations -&gt; m Annotations)
-&gt; Data Annotations
Annotations -&gt; DataType
Annotations -&gt; Constr
(forall b. Data b =&gt; b -&gt; b) -&gt; Annotations -&gt; Annotations
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Annotations -&gt; c Annotations
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Annotations
forall a.
Typeable a
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Annotations -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Annotations -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotations -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotations -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Annotations -&gt; m Annotations
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Annotations -&gt; m Annotations
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Annotations
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Annotations -&gt; c Annotations
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Annotations)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c Annotations)
$cAnnotations :: Constr
$tAnnotations :: DataType
gmapMo :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Annotations -&gt; m Annotations
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Annotations -&gt; m Annotations
gmapMp :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Annotations -&gt; m Annotations
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Annotations -&gt; m Annotations
gmapM :: (forall d. Data d =&gt; d -&gt; m d) -&gt; Annotations -&gt; m Annotations
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Annotations -&gt; m Annotations
gmapQi :: Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Annotations -&gt; u
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Annotations -&gt; u
gmapQ :: (forall d. Data d =&gt; d -&gt; u) -&gt; Annotations -&gt; [u]
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Annotations -&gt; [u]
gmapQr :: (r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotations -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotations -&gt; r
gmapQl :: (r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotations -&gt; r
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Annotations -&gt; r
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Annotations -&gt; Annotations
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Annotations -&gt; Annotations
dataCast2 :: (forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c Annotations)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c Annotations)
dataCast1 :: (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Annotations)
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Annotations)
dataTypeOf :: Annotations -&gt; DataType
$cdataTypeOf :: Annotations -&gt; DataType
toConstr :: Annotations -&gt; Constr
$ctoConstr :: Annotations -&gt; Constr
gunfold :: (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Annotations
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Annotations
gfoldl :: (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Annotations -&gt; c Annotations
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Annotations -&gt; c Annotations
$cp1Data :: Typeable Annotations
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561699"><span id="local-6989586621679561701"><span id="local-6989586621679561703"><span class="annot"><span class="annottext">b -&gt; Annotations -&gt; Annotations
NonEmpty Annotations -&gt; Annotations
Annotations -&gt; Annotations -&gt; Annotations
(Annotations -&gt; Annotations -&gt; Annotations)
-&gt; (NonEmpty Annotations -&gt; Annotations)
-&gt; (forall b. Integral b =&gt; b -&gt; Annotations -&gt; Annotations)
-&gt; Semigroup Annotations
forall b. Integral b =&gt; b -&gt; Annotations -&gt; Annotations
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
stimes :: b -&gt; Annotations -&gt; Annotations
$cstimes :: forall b. Integral b =&gt; b -&gt; Annotations -&gt; Annotations
sconcat :: NonEmpty Annotations -&gt; Annotations
$csconcat :: NonEmpty Annotations -&gt; Annotations
&lt;&gt; :: Annotations -&gt; Annotations -&gt; Annotations
$c&lt;&gt; :: Annotations -&gt; Annotations -&gt; Annotations
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561691"><span id="local-6989586621679561693"><span id="local-6989586621679561695"><span class="annot"><span class="annottext">Semigroup Annotations
Annotations
Semigroup Annotations
-&gt; Annotations
-&gt; (Annotations -&gt; Annotations -&gt; Annotations)
-&gt; ([Annotations] -&gt; Annotations)
-&gt; Monoid Annotations
[Annotations] -&gt; Annotations
Annotations -&gt; Annotations -&gt; Annotations
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
mconcat :: [Annotations] -&gt; Annotations
$cmconcat :: [Annotations] -&gt; Annotations
mappend :: Annotations -&gt; Annotations -&gt; Annotations
$cmappend :: Annotations -&gt; Annotations -&gt; Annotations
mempty :: Annotations
$cmempty :: Annotations
$cp1Monoid :: Semigroup Annotations
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-comment">-- | Unwrap the 'Annotations' data constructor.</span><span>
</span><span id="line-105"></span><span class="annot"><a href="IR.Types.Type.html#unAnnotations"><span class="hs-identifier hs-type">unAnnotations</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Annotations"><span class="hs-identifier hs-type">Annotations</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="IR.Types.Type.html#Annotation"><span class="hs-identifier hs-type">Annotation</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-106"></span><span id="unAnnotations"><span class="annot"><span class="annottext">unAnnotations :: Annotations -&gt; [Annotation]
</span><a href="IR.Types.Type.html#unAnnotations"><span class="hs-identifier hs-var hs-var">unAnnotations</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#Annotations"><span class="hs-identifier hs-type">Annotations</span></a></span><span> </span><span id="local-6989586621679561688"><span class="annot"><span class="annottext">[Annotation]
</span><a href="#local-6989586621679561688"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Annotation]
</span><a href="#local-6989586621679561688"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-comment">-- | Unroll an annotation into a type.</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- FIXME: get rid of this.</span><span>
</span><span id="line-110"></span><span class="annot"><a href="IR.Types.Type.html#fromAnnotations"><span class="hs-identifier hs-type">fromAnnotations</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Annotations"><span class="hs-identifier hs-type">Annotations</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-111"></span><span id="fromAnnotations"><span class="annot"><span class="annottext">fromAnnotations :: Annotations -&gt; Type
</span><a href="IR.Types.Type.html#fromAnnotations"><span class="hs-identifier hs-var hs-var">fromAnnotations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Annotation] -&gt; Type
</span><a href="#local-6989586621679561686"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">([Annotation] -&gt; Type)
-&gt; (Annotations -&gt; [Annotation]) -&gt; Annotations -&gt; Type
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Annotations -&gt; [Annotation]
</span><a href="IR.Types.Type.html#unAnnotations"><span class="hs-identifier hs-var">unAnnotations</span></a></span><span>
</span><span id="line-112"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-113"></span><span>  </span><span id="local-6989586621679561686"><span class="annot"><span class="annottext">go :: [Annotation] -&gt; Type
</span><a href="#local-6989586621679561686"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#AnnType"><span class="hs-identifier hs-type">AnnType</span></a></span><span> </span><span id="local-6989586621679561684"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561684"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[Annotation]
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561684"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span class="annot"><a href="#local-6989586621679561686"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Annotation
</span><span class="hs-identifier">_</span></span><span>         </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679561683"><span class="annot"><span class="annottext">[Annotation]
</span><a href="#local-6989586621679561683"><span class="hs-identifier hs-var">anns</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Annotation] -&gt; Type
</span><a href="#local-6989586621679561686"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Annotation]
</span><a href="#local-6989586621679561683"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="annot"><a href="#local-6989586621679561686"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#Hole"><span class="hs-identifier hs-var">Hole</span></a></span><span> </span><span class="hs-comment">-- TODO: properly unroll</span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="hs-comment">-- | Some data type that contains a sslang 'Type'.</span><span>
</span><span id="line-118"></span><span class="hs-keyword">class</span><span> </span><span id="HasType"><span class="annot"><a href="IR.Types.Type.html#HasType"><span class="hs-identifier hs-var">HasType</span></a></span></span><span> </span><span id="local-6989586621679562110"><span class="annot"><a href="#local-6989586621679562110"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-119"></span><span>  </span><span id="getType"><span class="annot"><a href="IR.Types.Type.html#getType"><span class="hs-identifier hs-type">getType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679562110"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="IR.Types.Type.html#HasType"><span class="hs-identifier hs-type">HasType</span></a></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-122"></span><span>  </span><span id="local-6989586621679561679"><span class="annot"><span class="annottext">getType :: Type -&gt; Type
</span><a href="#local-6989586621679561679"><span class="hs-identifier hs-var hs-var hs-var hs-var">getType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="IR.Types.Type.html#HasType"><span class="hs-identifier hs-type">HasType</span></a></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Scheme"><span class="hs-identifier hs-type">Scheme</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-125"></span><span>  </span><span id="local-6989586621679561676"><span class="annot"><span class="annottext">getType :: Scheme -&gt; Type
</span><a href="#local-6989586621679561676"><span class="hs-identifier hs-var hs-var hs-var hs-var">getType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#Scheme"><span class="hs-identifier hs-type">Scheme</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="annot"><span class="annottext">Set TVarId
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Constraint
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679561675"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561675"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561675"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="hs-comment">-- | A fresh, free type variable; may appear in type annotations.</span><span>
</span><span id="line-128"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Hole"><span class="hs-identifier hs-type">Hole</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-129"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bHole"><span id="%24mHole"><span id="Hole"><span class="annot"><span class="annottext">$bHole :: Type
$mHole :: forall r. Type -&gt; (Void# -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bHole"><span class="hs-identifier hs-var hs-var hs-var">Hole</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TVar"><span class="hs-identifier hs-type">TVar</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;_&quot;</span></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-comment">-- | The type constructor for function arrows.</span><span>
</span><span id="line-132"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Arrow"><span class="hs-identifier hs-type">Arrow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-133"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bArrow"><span id="%24mArrow"><span id="Arrow"><span class="annot"><span class="annottext">$bArrow :: Type -&gt; Type -&gt; Type
$mArrow :: forall r. Type -&gt; (Type -&gt; Type -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bArrow"><span class="hs-identifier hs-var hs-var hs-var">Arrow</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621679561669"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679561668"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;-&gt;&quot;</span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679561669"><span class="annot"><a href="#local-6989586621679561669"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561668"><span class="annot"><a href="#local-6989586621679561668"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span class="hs-comment">-- | Unfold an 'Arrow' 'Type' into a list of argument types and a return type.</span><span>
</span><span id="line-136"></span><span class="annot"><a href="IR.Types.Type.html#unfoldArrow"><span class="hs-identifier hs-type">unfoldArrow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span id="unfoldArrow"><span class="annot"><span class="annottext">unfoldArrow :: Type -&gt; ([Type], Type)
</span><a href="IR.Types.Type.html#unfoldArrow"><span class="hs-identifier hs-var hs-var">unfoldArrow</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#Arrow"><span class="hs-identifier hs-type">Arrow</span></a></span><span> </span><span id="local-6989586621679561666"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561666"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679561665"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561665"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679561664"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561664"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561663"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561663"><span class="hs-identifier hs-var">rt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; ([Type], Type)
</span><a href="IR.Types.Type.html#unfoldArrow"><span class="hs-identifier hs-var">unfoldArrow</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561665"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561666"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; [Type] -&gt; [Type]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561664"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561663"><span class="hs-identifier hs-var">rt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span class="annot"><a href="IR.Types.Type.html#unfoldArrow"><span class="hs-identifier hs-var">unfoldArrow</span></a></span><span> </span><span id="local-6989586621679561662"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561662"><span class="hs-identifier hs-var">t</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561662"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-comment">-- | Fold a list of argument types and a return type into an 'Arrow' 'Type'.</span><span>
</span><span id="line-141"></span><span class="annot"><a href="IR.Types.Type.html#foldArrow"><span class="hs-identifier hs-type">foldArrow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-142"></span><span id="foldArrow"><span class="annot"><span class="annottext">foldArrow :: ([Type], Type) -&gt; Type
</span><a href="IR.Types.Type.html#foldArrow"><span class="hs-identifier hs-var hs-var">foldArrow</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679561660"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561660"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679561659"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561659"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561658"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561658"><span class="hs-identifier hs-var">rt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561660"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; Type
</span><a href="IR.Types.Type.html#Arrow"><span class="hs-operator hs-var">`Arrow`</span></a></span><span> </span><span class="annot"><span class="annottext">([Type], Type) -&gt; Type
</span><a href="IR.Types.Type.html#foldArrow"><span class="hs-identifier hs-var">foldArrow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561659"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561658"><span class="hs-identifier hs-var">rt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span class="annot"><a href="IR.Types.Type.html#foldArrow"><span class="hs-identifier hs-var">foldArrow</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561657"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561657"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561657"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-comment">-- | The builtin singleton 'Type', whose only data constructor is just @()@.</span><span>
</span><span id="line-146"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Unit"><span class="hs-identifier hs-type">Unit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-147"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bUnit"><span id="%24mUnit"><span id="Unit"><span class="annot"><span class="annottext">$bUnit :: Type
$mUnit :: forall r. Type -&gt; (Void# -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bUnit"><span class="hs-identifier hs-var hs-var hs-var">Unit</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;()&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">-- | The builtin reference 'Type', created using @new@.</span><span>
</span><span id="line-150"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Ref"><span class="hs-identifier hs-type">Ref</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-151"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bRef"><span id="%24mRef"><span id="Ref"><span class="annot"><span class="annottext">$bRef :: Type -&gt; Type
$mRef :: forall r. Type -&gt; (Type -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bRef"><span class="hs-identifier hs-var hs-var hs-var">Ref</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621679561650"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;&quot;</span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679561650"><span class="annot"><a href="#local-6989586621679561650"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">-- | The builtin list 'Type', created using list syntax, e.g., @[a, b]@.</span><span>
</span><span id="line-154"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#List"><span class="hs-identifier hs-type">List</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-155"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bList"><span id="%24mList"><span id="List"><span class="annot"><span class="annottext">$bList :: Type -&gt; Type
$mList :: forall r. Type -&gt; (Type -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bList"><span class="hs-identifier hs-var hs-var hs-var">List</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621679561646"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;[]&quot;</span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679561646"><span class="annot"><a href="#local-6989586621679561646"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-comment">-- | The builtin 64-bit timestamp 'Type'.</span><span>
</span><span id="line-158"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-159"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bTime"><span id="%24mTime"><span id="Time"><span class="annot"><span class="annottext">$bTime :: Type
$mTime :: forall r. Type -&gt; (Void# -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bTime"><span class="hs-identifier hs-var hs-var hs-var">Time</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Time&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="hs-comment">-- | Builtin 'Type' for signed 64-bit integers.</span><span>
</span><span id="line-162"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#I64"><span class="hs-identifier hs-type">I64</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-163"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bI64"><span id="%24mI64"><span id="I64"><span class="annot"><span class="annottext">$bI64 :: Type
$mI64 :: forall r. Type -&gt; (Void# -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bI64"><span class="hs-identifier hs-var hs-var hs-var">I64</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Int64&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="hs-comment">-- | Builtin 'Type' for unsigned 64-bit integers.</span><span>
</span><span id="line-166"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#U64"><span class="hs-identifier hs-type">U64</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-167"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bU64"><span id="%24mU64"><span id="U64"><span class="annot"><span class="annottext">$bU64 :: Type
$mU64 :: forall r. Type -&gt; (Void# -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bU64"><span class="hs-identifier hs-var hs-var hs-var">U64</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;UInt64&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="hs-comment">-- | Builtin 'Type' for signed 32-bit integers.</span><span>
</span><span id="line-170"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#I32"><span class="hs-identifier hs-type">I32</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-171"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bI32"><span id="%24mI32"><span id="I32"><span class="annot"><span class="annottext">$bI32 :: Type
$mI32 :: forall r. Type -&gt; (Void# -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bI32"><span class="hs-identifier hs-var hs-var hs-var">I32</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Int32&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="hs-comment">-- | Builtin 'Type' for unsigned 32-bit integers.</span><span>
</span><span id="line-174"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#U32"><span class="hs-identifier hs-type">U32</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-175"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bU32"><span id="%24mU32"><span id="U32"><span class="annot"><span class="annottext">$bU32 :: Type
$mU32 :: forall r. Type -&gt; (Void# -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bU32"><span class="hs-identifier hs-var hs-var hs-var">U32</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;UInt32&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-comment">-- | Builtin 'Type' for signed 16-bit integers.</span><span>
</span><span id="line-178"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#I16"><span class="hs-identifier hs-type">I16</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-179"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bI16"><span id="%24mI16"><span id="I16"><span class="annot"><span class="annottext">$bI16 :: Type
$mI16 :: forall r. Type -&gt; (Void# -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bI16"><span class="hs-identifier hs-var hs-var hs-var">I16</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Int16&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="hs-comment">-- | Builtin 'Type' for unsigned 16-bit integers.</span><span>
</span><span id="line-182"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#U16"><span class="hs-identifier hs-type">U16</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-183"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bU16"><span id="%24mU16"><span id="U16"><span class="annot"><span class="annottext">$bU16 :: Type
$mU16 :: forall r. Type -&gt; (Void# -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bU16"><span class="hs-identifier hs-var hs-var hs-var">U16</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;UInt16&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="hs-comment">-- | Builtin 'Type' for signed 8-bit integers.</span><span>
</span><span id="line-186"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#I8"><span class="hs-identifier hs-type">I8</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-187"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bI8"><span id="%24mI8"><span id="I8"><span class="annot"><span class="annottext">$bI8 :: Type
$mI8 :: forall r. Type -&gt; (Void# -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bI8"><span class="hs-identifier hs-var hs-var hs-var">I8</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Int8&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="hs-comment">-- | Builtin 'Type' for unsigned 8-bit integers.</span><span>
</span><span id="line-190"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="IR.Types.Type.html#U8"><span class="hs-identifier hs-type">U8</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-191"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bU8"><span id="%24mU8"><span id="U8"><span class="annot"><span class="annottext">$bU8 :: Type
$mU8 :: forall r. Type -&gt; (Void# -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="IR.Types.Type.html#%24bU8"><span class="hs-identifier hs-var hs-var hs-var">U8</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;UInt8&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-comment">-- | Test whether a 'Type' is one of the builtin signed integers.</span><span>
</span><span id="line-194"></span><span class="annot"><a href="IR.Types.Type.html#isInt"><span class="hs-identifier hs-type">isInt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-195"></span><span id="isInt"><span class="annot"><span class="annottext">isInt :: Type -&gt; Bool
</span><a href="IR.Types.Type.html#isInt"><span class="hs-identifier hs-var hs-var">isInt</span></a></span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#I64"><span class="hs-identifier hs-var">I64</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-196"></span><span class="annot"><a href="IR.Types.Type.html#isInt"><span class="hs-identifier hs-var">isInt</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#I32"><span class="hs-identifier hs-var">I32</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-197"></span><span class="annot"><a href="IR.Types.Type.html#isInt"><span class="hs-identifier hs-var">isInt</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#I16"><span class="hs-identifier hs-var">I16</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-198"></span><span class="annot"><a href="IR.Types.Type.html#isInt"><span class="hs-identifier hs-var">isInt</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#I8"><span class="hs-identifier hs-var">I8</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-199"></span><span class="annot"><a href="IR.Types.Type.html#isInt"><span class="hs-identifier hs-var">isInt</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-comment">-- | Test whether a 'Type' is one of the builtin unsigned integers.</span><span>
</span><span id="line-202"></span><span class="annot"><a href="IR.Types.Type.html#isUInt"><span class="hs-identifier hs-type">isUInt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-203"></span><span id="isUInt"><span class="annot"><span class="annottext">isUInt :: Type -&gt; Bool
</span><a href="IR.Types.Type.html#isUInt"><span class="hs-identifier hs-var hs-var">isUInt</span></a></span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#U64"><span class="hs-identifier hs-var">U64</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-204"></span><span class="annot"><a href="IR.Types.Type.html#isUInt"><span class="hs-identifier hs-var">isUInt</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#U32"><span class="hs-identifier hs-var">U32</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-205"></span><span class="annot"><a href="IR.Types.Type.html#isUInt"><span class="hs-identifier hs-var">isUInt</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#U16"><span class="hs-identifier hs-var">U16</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-206"></span><span class="annot"><a href="IR.Types.Type.html#isUInt"><span class="hs-identifier hs-var">isUInt</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#U8"><span class="hs-identifier hs-var">U8</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-207"></span><span class="annot"><a href="IR.Types.Type.html#isUInt"><span class="hs-identifier hs-var">isUInt</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-comment">-- | Test whether a 'Type' is one of the builtin numeric types.</span><span>
</span><span id="line-210"></span><span class="annot"><a href="IR.Types.Type.html#isNum"><span class="hs-identifier hs-type">isNum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-211"></span><span id="isNum"><span class="annot"><span class="annottext">isNum :: Type -&gt; Bool
</span><a href="IR.Types.Type.html#isNum"><span class="hs-identifier hs-var hs-var">isNum</span></a></span></span><span> </span><span id="local-6989586621679561615"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561615"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Bool
</span><a href="IR.Types.Type.html#isInt"><span class="hs-identifier hs-var">isInt</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561615"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Bool
</span><a href="IR.Types.Type.html#isUInt"><span class="hs-identifier hs-var">isUInt</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561615"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="hs-comment">-- | Construct a builtin tuple type out of a list of at least 2 types.</span><span>
</span><span id="line-214"></span><span class="annot"><a href="IR.Types.Type.html#tuple"><span class="hs-identifier hs-type">tuple</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-215"></span><span id="tuple"><span class="annot"><span class="annottext">tuple :: [Type] -&gt; Type
</span><a href="IR.Types.Type.html#tuple"><span class="hs-identifier hs-var hs-var">tuple</span></a></span></span><span> </span><span id="local-6989586621679561612"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561612"><span class="hs-identifier hs-var">ts</span></a></span></span><span>
</span><span id="line-216"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561612"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TConId -&gt; [Type] -&gt; Type
</span><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-var">TCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; TConId
forall i v. (Integral i, Identifiable v) =&gt; i -&gt; v
</span><a href="IR.Types.Type.html#tupleId"><span class="hs-identifier hs-var">tupleId</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; TConId) -&gt; Int -&gt; TConId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561612"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561612"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-217"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Type
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Type) -&gt; String -&gt; Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cannot create tuple of arity: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561612"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="hs-comment">-- | Test whether a 'Type' is a tuple of some arity.</span><span>
</span><span id="line-220"></span><span class="annot"><a href="IR.Types.Type.html#isTuple"><span class="hs-identifier hs-type">isTuple</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-221"></span><span id="isTuple"><span class="annot"><span class="annottext">isTuple :: Type -&gt; Bool
</span><a href="IR.Types.Type.html#isTuple"><span class="hs-identifier hs-var hs-var">isTuple</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span id="local-6989586621679561606"><span class="annot"><span class="annottext">TConId
</span><a href="#local-6989586621679561606"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679561605"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561605"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561605"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TConId
</span><a href="#local-6989586621679561606"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">TConId -&gt; TConId -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; TConId
forall i v. (Integral i, Identifiable v) =&gt; i -&gt; v
</span><a href="IR.Types.Type.html#tupleId"><span class="hs-identifier hs-var">tupleId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561605"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span class="annot"><a href="IR.Types.Type.html#isTuple"><span class="hs-identifier hs-var">isTuple</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span>                            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-comment">-- | Construct the type constructor of a builtin tuple of given arity (&gt;= 2).</span><span>
</span><span id="line-225"></span><span id="local-6989586621679562099"><span id="local-6989586621679562100"><span class="annot"><a href="IR.Types.Type.html#tupleId"><span class="hs-identifier hs-type">tupleId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621679562100"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifiable"><span class="hs-identifier hs-type">Identifiable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679562099"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679562100"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679562099"><span class="hs-identifier hs-type">v</span></a></span></span></span><span>
</span><span id="line-226"></span><span id="tupleId"><span class="annot"><span class="annottext">tupleId :: i -&gt; v
</span><a href="IR.Types.Type.html#tupleId"><span class="hs-identifier hs-var hs-var">tupleId</span></a></span></span><span> </span><span id="local-6989586621679561604"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679561604"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-227"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679561604"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; i -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">i
</span><span class="hs-number">2</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; v
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; v) -&gt; String -&gt; v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; String
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679561604"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">','</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-228"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; v
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; v) -&gt; String -&gt; v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cannot create tuple of arity: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679561604"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span id="local-6989586621679561601"><span id="local-6989586621679561602"><span class="annot"><a href="IR.Types.Type.html#tempTupleId"><span class="hs-identifier hs-type">tempTupleId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621679561602"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Common.Identifiers.html#Identifiable"><span class="hs-identifier hs-type">Identifiable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679561601"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679561602"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679561601"><span class="hs-identifier hs-type">v</span></a></span></span></span><span>
</span><span id="line-231"></span><span id="tempTupleId"><span class="annot"><span class="annottext">tempTupleId :: i -&gt; v
</span><a href="IR.Types.Type.html#tempTupleId"><span class="hs-identifier hs-var hs-var">tempTupleId</span></a></span></span><span> </span><span id="local-6989586621679561599"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679561599"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679561599"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; i -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">i
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; v
forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; v) -&gt; String -&gt; v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Pair&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679561599"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; v
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; v) -&gt; String -&gt; v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cannot create tuple of arity: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679561599"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="hs-comment">-- | More convenient representation of tuple types, for pattern-matching.</span><span>
</span><span id="line-236"></span><span class="hs-keyword">data</span><span> </span><span id="TupleView"><span class="annot"><a href="IR.Types.Type.html#TupleView"><span class="hs-identifier hs-var">TupleView</span></a></span></span><span>
</span><span id="line-237"></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Tup2"><span class="annot"><a href="IR.Types.Type.html#Tup2"><span class="hs-identifier hs-var">Tup2</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>              </span><span class="hs-comment">-- ^ 2-tuples</span><span>
</span><span id="line-238"></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Tup3"><span class="annot"><a href="IR.Types.Type.html#Tup3"><span class="hs-identifier hs-var">Tup3</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-comment">-- ^ 3-tuples</span><span>
</span><span id="line-239"></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Tup4"><span class="annot"><a href="IR.Types.Type.html#Tup4"><span class="hs-identifier hs-var">Tup4</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- ^ 4-tuples</span><span>
</span><span id="line-240"></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="TupN"><span class="annot"><a href="IR.Types.Type.html#TupN"><span class="hs-identifier hs-var">TupN</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>                    </span><span class="hs-comment">-- ^ n-ary tuples</span><span>
</span><span id="line-241"></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="NotATuple"><span class="annot"><a href="IR.Types.Type.html#NotATuple"><span class="hs-identifier hs-var">NotATuple</span></a></span></span><span>                      </span><span class="hs-comment">-- ^ not a tuple</span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-comment">{- | Convert a 'Type' to a 'TupleView'; convenient for ViewPatterns.

For example, to match on just 2-tuples;

&gt; foo :: Type -&gt; String
&gt; foo (tupleOf -&gt; Tup2 (a, b)) = &quot;2-tuple of &quot; ++ show a ++ &quot; and &quot; ++ show b
&gt; foo t                        = &quot;Some other kind of type: &quot; ++ show t
-}</span><span>
</span><span id="line-251"></span><span class="annot"><a href="IR.Types.Type.html#tupleOf"><span class="hs-identifier hs-type">tupleOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="IR.Types.Type.html#TupleView"><span class="hs-identifier hs-type">TupleView</span></a></span><span>
</span><span id="line-252"></span><span id="tupleOf"><span class="annot"><span class="annottext">tupleOf :: Type -&gt; TupleView
</span><a href="IR.Types.Type.html#tupleOf"><span class="hs-identifier hs-var hs-var">tupleOf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="annottext">TConId
</span><span class="hs-string">&quot;(,)&quot;</span></span><span>   </span><span class="hs-special">[</span><span id="local-6989586621679561592"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561592"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561591"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561591"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span>      </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Type, Type) -&gt; TupleView
</span><a href="IR.Types.Type.html#Tup2"><span class="hs-identifier hs-var">Tup2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561592"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561591"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span class="annot"><a href="IR.Types.Type.html#tupleOf"><span class="hs-identifier hs-var">tupleOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="annottext">TConId
</span><span class="hs-string">&quot;(,,)&quot;</span></span><span>  </span><span class="hs-special">[</span><span id="local-6989586621679561590"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561590"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561589"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561589"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561588"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561588"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">]</span><span>   </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Type, Type, Type) -&gt; TupleView
</span><a href="IR.Types.Type.html#Tup3"><span class="hs-identifier hs-var">Tup3</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561590"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561589"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561588"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span class="annot"><a href="IR.Types.Type.html#tupleOf"><span class="hs-identifier hs-var">tupleOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="annottext">TConId
</span><span class="hs-string">&quot;(,,,)&quot;</span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679561587"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561587"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561586"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561586"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561585"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561585"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679561584"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561584"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Type, Type, Type, Type) -&gt; TupleView
</span><a href="IR.Types.Type.html#Tup4"><span class="hs-identifier hs-var">Tup4</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561587"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561586"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561585"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561584"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span class="annot"><a href="IR.Types.Type.html#tupleOf"><span class="hs-identifier hs-var">tupleOf</span></a></span><span> </span><span id="local-6989586621679561583"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679561583"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span class="annot"><span class="annottext">TConId
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679561582"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561582"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Bool
</span><a href="IR.Types.Type.html#isTuple"><span class="hs-identifier hs-var">isTuple</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561583"><span class="hs-identifier hs-var">t</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; TupleView
</span><a href="IR.Types.Type.html#TupN"><span class="hs-identifier hs-var">TupN</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561582"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-256"></span><span class="annot"><a href="IR.Types.Type.html#tupleOf"><span class="hs-identifier hs-var">tupleOf</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span>                           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TupleView
</span><a href="IR.Types.Type.html#NotATuple"><span class="hs-identifier hs-var">NotATuple</span></a></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span class="hs-comment">-- | Kinds are just the arity of type constructors.</span><span>
</span><span id="line-259"></span><span class="hs-keyword">type</span><span> </span><span id="Kind"><span class="annot"><a href="IR.Types.Type.html#Kind"><span class="hs-identifier hs-var">Kind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span class="hs-comment">-- | Map to help us look up the kinds of builtin types.</span><span>
</span><span id="line-262"></span><span class="annot"><a href="IR.Types.Type.html#builtinKinds"><span class="hs-identifier hs-type">builtinKinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="annot"><a href="Common.Identifiers.html#TConId"><span class="hs-identifier hs-type">TConId</span></a></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span>
</span><span id="line-263"></span><span id="builtinKinds"><span class="annot"><span class="annottext">builtinKinds :: Map TConId Int
</span><a href="IR.Types.Type.html#builtinKinds"><span class="hs-identifier hs-var hs-var">builtinKinds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-264"></span><span>  </span><span class="annot"><span class="annottext">[(TConId, Int)] -&gt; Map TConId Int
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">M.fromList</span></span><span>
</span><span id="line-265"></span><span>    </span><span class="annot"><span class="annottext">([(TConId, Int)] -&gt; Map TConId Int)
-&gt; [(TConId, Int)] -&gt; Map TConId Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; (TConId, Int)) -&gt; Type -&gt; (TConId, Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TVarId -&gt; Type
</span><a href="IR.Types.Type.html#TVar"><span class="hs-identifier hs-var">TVar</span></a></span><span> </span><span class="annot"><span class="annottext">TVarId
</span><span class="hs-string">&quot;a&quot;</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; Type
</span><a href="IR.Types.Type.html#Arrow"><span class="hs-operator hs-var">`Arrow`</span></a></span><span> </span><span class="annot"><span class="annottext">TVarId -&gt; Type
</span><a href="IR.Types.Type.html#TVar"><span class="hs-identifier hs-var">TVar</span></a></span><span> </span><span class="annot"><span class="annottext">TVarId
</span><span class="hs-string">&quot;b&quot;</span></span><span>
</span><span id="line-266"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#Unit"><span class="hs-identifier hs-var">Unit</span></a></span><span>
</span><span id="line-267"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; (TConId, Int)) -&gt; Type -&gt; (TConId, Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="IR.Types.Type.html#Ref"><span class="hs-identifier hs-var">Ref</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; Type -&gt; Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TVarId -&gt; Type
</span><a href="IR.Types.Type.html#TVar"><span class="hs-identifier hs-var">TVar</span></a></span><span> </span><span class="annot"><span class="annottext">TVarId
</span><span class="hs-string">&quot;a&quot;</span></span><span>
</span><span id="line-268"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; (TConId, Int)) -&gt; Type -&gt; (TConId, Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="IR.Types.Type.html#List"><span class="hs-identifier hs-var">List</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; Type -&gt; Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TVarId -&gt; Type
</span><a href="IR.Types.Type.html#TVar"><span class="hs-identifier hs-var">TVar</span></a></span><span> </span><span class="annot"><span class="annottext">TVarId
</span><span class="hs-string">&quot;a&quot;</span></span><span>
</span><span id="line-269"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#Time"><span class="hs-identifier hs-var">Time</span></a></span><span>
</span><span id="line-270"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#I64"><span class="hs-identifier hs-var">I64</span></a></span><span>
</span><span id="line-271"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#U64"><span class="hs-identifier hs-var">U64</span></a></span><span>
</span><span id="line-272"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#I32"><span class="hs-identifier hs-var">I32</span></a></span><span>
</span><span id="line-273"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#U32"><span class="hs-identifier hs-var">U32</span></a></span><span>
</span><span id="line-274"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#I16"><span class="hs-identifier hs-var">I16</span></a></span><span>
</span><span id="line-275"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#U16"><span class="hs-identifier hs-var">U16</span></a></span><span>
</span><span id="line-276"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#I8"><span class="hs-identifier hs-var">I8</span></a></span><span>
</span><span id="line-277"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="IR.Types.Type.html#U8"><span class="hs-identifier hs-var">U8</span></a></span><span>
</span><span id="line-278"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TConId
</span><span class="hs-string">&quot;(,)&quot;</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TConId
</span><span class="hs-string">&quot;(,,)&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>       </span><span class="hs-special">]</span><span>
</span><span id="line-281"></span><span>    </span><span class="annot"><span class="annottext">[(TConId, Int)] -&gt; [(TConId, Int)] -&gt; [(TConId, Int)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [(TConId, Int)] -&gt; [(TConId, Int)]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; (TConId, Int)) -&gt; [Int] -&gt; [(TConId, Int)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; (TConId, Int)
forall i a b. (Integral i, Identifiable a, Num b) =&gt; i -&gt; (a, b)
</span><a href="#local-6989586621679561576"><span class="hs-identifier hs-var">tup</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">..</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-283"></span><span>  </span><span id="local-6989586621679561578"><span class="annot"><span class="annottext">k :: Type -&gt; (TConId, Int)
</span><a href="#local-6989586621679561578"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span id="local-6989586621679561575"><span class="annot"><span class="annottext">TConId
</span><a href="#local-6989586621679561575"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621679561574"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561574"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TConId
</span><a href="#local-6989586621679561575"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561574"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>  </span><span class="annot"><a href="#local-6989586621679561578"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (TConId, Int)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;This should only be used with (builtin) TCons&quot;</span></span><span>
</span><span id="line-285"></span><span>  </span><span id="local-6989586621679561576"><span class="annot"><span class="annottext">tup :: i -&gt; (a, b)
</span><a href="#local-6989586621679561576"><span class="hs-identifier hs-var hs-var">tup</span></a></span></span><span> </span><span id="local-6989586621679561573"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679561573"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; a
forall i v. (Integral i, Identifiable v) =&gt; i -&gt; v
</span><a href="IR.Types.Type.html#tupleId"><span class="hs-identifier hs-var">tupleId</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679561573"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679561570"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-288"></span><span>  </span><span id="local-6989586621679561568"><span class="annot"><span class="annottext">pretty :: Type -&gt; Doc ann
</span><a href="#local-6989586621679561568"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#Arrow"><span class="hs-identifier hs-type">Arrow</span></a></span><span> </span><span id="local-6989586621679561567"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561567"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679561566"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561566"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561567"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;-&gt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561566"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-289"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#List"><span class="hs-identifier hs-type">List</span></a></span><span> </span><span id="local-6989586621679561565"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561565"><span class="hs-identifier hs-var">a</span></a></span></span><span>   </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">brackets</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561565"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-290"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span id="local-6989586621679561564"><span class="annot"><span class="annottext">TConId
</span><a href="#local-6989586621679561564"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TConId -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TConId
</span><a href="#local-6989586621679561564"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-291"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#TCon"><span class="hs-identifier hs-type">TCon</span></a></span><span> </span><span id="local-6989586621679561563"><span class="annot"><span class="annottext">TConId
</span><a href="#local-6989586621679561563"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679561562"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561562"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TConId -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TConId
</span><a href="#local-6989586621679561563"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; [Doc ann] -&gt; [Doc ann]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Doc ann) -&gt; [Type] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679561562"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#TVar"><span class="hs-identifier hs-type">TVar</span></a></span><span> </span><span id="local-6989586621679561561"><span class="annot"><span class="annottext">TVarId
</span><a href="#local-6989586621679561561"><span class="hs-identifier hs-var">n</span></a></span></span><span>   </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TVarId -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TVarId
</span><a href="#local-6989586621679561561"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Common.Pretty.html#Dumpy"><span class="hs-identifier hs-type">Dumpy</span></a></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-295"></span><span>  </span><span id="local-6989586621679561558"><span class="annot"><span class="annottext">dumpy :: Type -&gt; Doc ann
</span><a href="Common.Pretty.html#dumpy"><span class="hs-identifier hs-var hs-var hs-var hs-var">dumpy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679561554"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Scheme"><span class="hs-identifier hs-type">Scheme</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-298"></span><span>  </span><span id="local-6989586621679561553"><span class="annot"><span class="annottext">pretty :: Scheme -&gt; Doc ann
</span><a href="#local-6989586621679561553"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#Scheme"><span class="hs-identifier hs-type">Scheme</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span id="local-6989586621679561552"><span class="annot"><span class="annottext">Set TVarId
</span><a href="#local-6989586621679561552"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Constraint
</span><a href="IR.Types.Type.html#CTrue"><span class="hs-identifier hs-var">CTrue</span></a></span><span> </span><span id="local-6989586621679561551"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561551"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-299"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;forall&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TVarId -&gt; Doc ann) -&gt; [TVarId] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">TVarId -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">([TVarId] -&gt; [Doc ann]) -&gt; [TVarId] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set TVarId -&gt; [TVarId]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">Set TVarId
</span><a href="#local-6989586621679561552"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>  </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><span class="hs-identifier hs-var">comma</span></span><span>
</span><span id="line-302"></span><span>      </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561551"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Common.Pretty.html#Dumpy"><span class="hs-identifier hs-type">Dumpy</span></a></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Scheme"><span class="hs-identifier hs-type">Scheme</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-305"></span><span>  </span><span id="local-6989586621679561549"><span class="annot"><span class="annottext">dumpy :: Scheme -&gt; Doc ann
</span><a href="#local-6989586621679561549"><span class="hs-identifier hs-var hs-var hs-var hs-var">dumpy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scheme -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679561546"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Annotation"><span class="hs-identifier hs-type">Annotation</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-308"></span><span>  </span><span id="local-6989586621679561545"><span class="annot"><span class="annottext">pretty :: Annotation -&gt; Doc ann
</span><a href="#local-6989586621679561545"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="IR.Types.Type.html#AnnType"><span class="hs-identifier hs-type">AnnType</span></a></span><span> </span><span id="local-6989586621679561544"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561544"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679561544"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-309"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Annotation
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Common.Pretty.html#Dumpy"><span class="hs-identifier hs-type">Dumpy</span></a></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Annotation"><span class="hs-identifier hs-type">Annotation</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-312"></span><span>  </span><span id="local-6989586621679561542"><span class="annot"><span class="annottext">dumpy :: Annotation -&gt; Doc ann
</span><a href="#local-6989586621679561542"><span class="hs-identifier hs-var hs-var hs-var hs-var">dumpy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Annotation -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679561539"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Annotations"><span class="hs-identifier hs-type">Annotations</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-315"></span><span>  </span><span id="local-6989586621679561538"><span class="annot"><span class="annottext">pretty :: Annotations -&gt; Doc ann
</span><a href="#local-6989586621679561538"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Annotations -&gt; [Annotation]
</span><a href="IR.Types.Type.html#unAnnotations"><span class="hs-identifier hs-var">unAnnotations</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679561537"><span class="annot"><span class="annottext">[Annotation]
</span><a href="#local-6989586621679561537"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Annotation] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[Annotation]
</span><a href="#local-6989586621679561537"><span class="hs-keyword hs-var">as</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-316"></span><span>                               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Annotation -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">(Annotation -&gt; Doc ann) -&gt; Annotation -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Annotation] -&gt; Annotation
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[Annotation]
</span><a href="#local-6989586621679561537"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Common.Pretty.html#Dumpy"><span class="hs-identifier hs-type">Dumpy</span></a></span><span> </span><span class="annot"><a href="IR.Types.Type.html#Annotations"><span class="hs-identifier hs-type">Annotations</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-319"></span><span>  </span><span id="local-6989586621679561533"><span class="annot"><span class="annottext">dumpy :: Annotations -&gt; Doc ann
</span><a href="#local-6989586621679561533"><span class="hs-identifier hs-var hs-var hs-var hs-var">dumpy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Annotations -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span>
</span><span id="line-320"></span></pre></body></html>